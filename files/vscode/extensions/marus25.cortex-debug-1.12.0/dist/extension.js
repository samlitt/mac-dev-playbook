(()=>{var __webpack_modules__={4651:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.MemoryEvent=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ExitedEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const i=s(1839),r=s(601),n=s(8153),o=s(7310);t.Source=class{constructor(e,t,s=0,i,r){this.name=e,this.path=t,this.sourceReference=s,i&&(this.origin=i),r&&(this.adapterData=r)}},t.Scope=class{constructor(e,t,s=!1){this.name=e,this.variablesReference=t,this.expensive=s}},t.StackFrame=class{constructor(e,t,s,i=0,r=0){this.id=e,this.source=s,this.line=i,this.column=r,this.name=t}},t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}},t.Variable=class{constructor(e,t,s=0,i,r){this.name=e,this.value=t,this.variablesReference=s,"number"==typeof r&&(this.namedVariables=r),"number"==typeof i&&(this.indexedVariables=i)}},t.Breakpoint=class{constructor(e,t,s,i){this.verified=e;const r=this;"number"==typeof t&&(r.line=t),"number"==typeof s&&(r.column=s),i&&(r.source=i)}setId(e){this.id=e}},t.Module=class{constructor(e,t){this.id=e,this.name=t}},t.CompletionItem=class{constructor(e,t,s=0){this.label=e,this.start=t,this.length=s}};class a extends r.Event{constructor(e,t,s){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof s&&(this.body.text=s)}}t.StoppedEvent=a;class c extends r.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class h extends r.Event{constructor(){super("initialized")}}t.InitializedEvent=h;class l extends r.Event{constructor(e){super("terminated"),("boolean"==typeof e||e)&&(this.body={restart:e})}}t.TerminatedEvent=l;class u extends r.Event{constructor(e){super("exited"),this.body={exitCode:e}}}t.ExitedEvent=u;class d extends r.Event{constructor(e,t="console",s){super("output"),this.body={category:t,output:e},void 0!==s&&(this.body.data=s)}}t.OutputEvent=d;class p extends r.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=p;class f extends r.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=f;class g extends r.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=g;class m extends r.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=m;class b extends r.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=b;class v extends r.Event{constructor(e,t,s){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof s&&(this.body.message=s)}}t.ProgressStartEvent=v;class y extends r.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=y;class C extends r.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=C;class w extends r.Event{constructor(e,t,s){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),s&&(this.body.stackFrameId=s)}}t.InvalidatedEvent=w;class S extends r.Event{constructor(e,t,s){super("memory"),this.body={memoryReference:e,offset:t,count:s}}}var E;t.MemoryEvent=S,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(E=t.ErrorDestination||(t.ErrorDestination={}));class T extends i.ProtocolServer{constructor(e,t){super();const s="boolean"==typeof e&&e;this._debuggerLinesStartAt1=s,this._debuggerColumnsStartAt1=s,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",(()=>{this.shutdown()})),this.on("error",(e=>{this.shutdown()}))}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){(0,n.runDebugAdapter)(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout((()=>{process.exit(0)}),100)}sendErrorResponse(e,t,s,i,r=E.User){let n;"number"==typeof t?(n={id:t,format:s},i&&(n.variables=i),r&E.User&&(n.showUser=!0),r&E.Telemetry&&(n.sendTelemetry=!0)):n=t,e.success=!1,e.message=T.formatPII(n.format,!0,n.variables),e.body||(e.body={}),e.body.error=n,this.sendResponse(e)}runInTerminalRequest(e,t,s){this.sendRequest("runInTerminal",e,t,s)}dispatchRequest(e){const t=new r.Response(e);try{if("initialize"===e.command){var s=e.arguments;if("boolean"==typeof s.linesStartAt1&&(this._clientLinesStartAt1=s.linesStartAt1),"boolean"==typeof s.columnsStartAt1&&(this._clientColumnsStartAt1=s.columnsStartAt1),"path"!==s.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,E.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,s)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"writeMemory"===e.command?this.writeMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},E.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,s){this.sendResponse(e),this.shutdown()}launchRequest(e,t,s){this.sendResponse(e)}attachRequest(e,t,s){this.sendResponse(e)}terminateRequest(e,t,s){this.sendResponse(e)}restartRequest(e,t,s){this.sendResponse(e)}setBreakPointsRequest(e,t,s){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,s){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,s){this.sendResponse(e)}configurationDoneRequest(e,t,s){this.sendResponse(e)}continueRequest(e,t,s){this.sendResponse(e)}nextRequest(e,t,s){this.sendResponse(e)}stepInRequest(e,t,s){this.sendResponse(e)}stepOutRequest(e,t,s){this.sendResponse(e)}stepBackRequest(e,t,s){this.sendResponse(e)}reverseContinueRequest(e,t,s){this.sendResponse(e)}restartFrameRequest(e,t,s){this.sendResponse(e)}gotoRequest(e,t,s){this.sendResponse(e)}pauseRequest(e,t,s){this.sendResponse(e)}sourceRequest(e,t,s){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,s){this.sendResponse(e)}stackTraceRequest(e,t,s){this.sendResponse(e)}scopesRequest(e,t,s){this.sendResponse(e)}variablesRequest(e,t,s){this.sendResponse(e)}setVariableRequest(e,t,s){this.sendResponse(e)}setExpressionRequest(e,t,s){this.sendResponse(e)}evaluateRequest(e,t,s){this.sendResponse(e)}stepInTargetsRequest(e,t,s){this.sendResponse(e)}gotoTargetsRequest(e,t,s){this.sendResponse(e)}completionsRequest(e,t,s){this.sendResponse(e)}exceptionInfoRequest(e,t,s){this.sendResponse(e)}loadedSourcesRequest(e,t,s){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,s){this.sendResponse(e)}setDataBreakpointsRequest(e,t,s){this.sendResponse(e)}readMemoryRequest(e,t,s){this.sendResponse(e)}writeMemoryRequest(e,t,s){this.sendResponse(e)}disassembleRequest(e,t,s){this.sendResponse(e)}cancelRequest(e,t,s){this.sendResponse(e)}breakpointLocationsRequest(e,t,s){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,s){this.sendResponse(e)}customRequest(e,t,s,i){this.sendErrorResponse(t,1014,"unrecognized request",null,E.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?T.uri2path(e):T.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?T.uri2path(e):T.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new o.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new o.URL(e),s=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(s)&&(s=s[1].toLowerCase()+s.substr(2)),s=s.replace(/\//g,"\\")),s}static formatPII(e,t,s){return e.replace(T._formatPIIRegexp,(function(e,i){return t&&i.length>0&&"_"!==i[0]?e:s[i]&&s.hasOwnProperty(i)?s[i]:e}))}}t.DebugSession=T,T._formatPIIRegexp=/{([^}]+)}/g},527:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=void 0,t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},7309:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLogger=void 0;const i=s(7147),r=s(1017),n=s(4100);function o(){let e=new Date;return a(2,String(e.getUTCHours()))+":"+a(2,String(e.getUTCMinutes()))+":"+a(2,String(e.getUTCSeconds()))+"."+a(3,String(e.getUTCMilliseconds()))+" UTC"}function a(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.InternalLogger=class{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=n.LogLevel.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}async setup(e){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(r.isAbsolute(e.logFilePath)){const t=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,n.LogLevel.Error);try{await i.promises.mkdir(r.dirname(e.logFilePath),{recursive:!0}),this.log("Verbose logs are written to:\n",n.LogLevel.Warn),this.log(e.logFilePath+"\n",n.LogLevel.Warn),this._logFileStream=i.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",(e=>{t(e)}))}catch(e){t(e)}}else this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,n.LogLevel.Error)}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+`${e.getUTCMonth()+1}-`+e.getUTCDate()+", "+o();this.log(t+"\n",n.LogLevel.Verbose,!1)}setupShutdownListeners(){process.on("beforeExit",this.beforeExitCallback),process.on("SIGTERM",this.disposeCallback),process.on("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise((e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()}))}log(e,t,s=!0){if(this._minLogLevel!==n.LogLevel.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const s=t===n.LogLevel.Error?console.error:t===n.LogLevel.Warn?console.warn:null;s&&s((0,n.trimLastNewline)(e))}t===n.LogLevel.Error&&(e=`[${n.LogLevel[t]}] ${e}`),this._prependTimestamp&&s&&(e="["+o()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const s=new n.LogOutputEvent(e,t);this._logCallback(s)}}}},4100:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const i=s(7309),r=s(4651);var n;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(n=t.LogLevel||(t.LogLevel={}));class o{constructor(){this._pendingLogQ=[]}log(e,t=n.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,n.Verbose)}warn(e){this.log(e,n.Warn)}error(e){this.log(e,n.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=n.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,s=!0){const i="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:i,prependTimestamp:s};this._currentLogger.setup(t).then((()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach((e=>this._write(e.msg,e.level)))}}))}}init(e,t,s){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new i.InternalLogger(e,s),this._logFilePathFromInit=t}}t.Logger=o,t.logger=new o;class a extends r.OutputEvent{constructor(e,t){super(e,t===n.Error?"stderr":t===n.Warn?"console":"stdout")}}t.LogOutputEvent=a,t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},1212:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDebugSession=void 0;const i=s(4100),r=i.logger,n=s(4651);class o extends n.DebugSession{constructor(e,t,s){super(t,s),this.obsolete_logFilePath=e,this.on("error",(e=>{r.error(e.body)}))}start(e,t){super.start(e,t),r.init((e=>this.sendEvent(e)),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof i.LogOutputEvent)){let t=e;e instanceof n.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t={...e},t.body={...e.body,output:"<output not logged>"}),r.verbose(`To client: ${JSON.stringify(t)}`)}super.sendEvent(e)}sendRequest(e,t,s,i){r.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${s}`),super.sendRequest(e,t,s,i)}sendResponse(e){r.verbose(`To client: ${JSON.stringify(e)}`),super.sendResponse(e)}dispatchRequest(e){r.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}t.LoggingDebugSession=o},9955:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=t.Response=t.Event=t.ErrorDestination=t.CompletionItem=t.Module=t.Source=t.Breakpoint=t.Variable=t.Scope=t.StackFrame=t.Thread=t.MemoryEvent=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ContinuedEvent=t.StoppedEvent=t.ExitedEvent=t.TerminatedEvent=t.InitializedEvent=t.logger=t.Logger=t.LoggingDebugSession=t.DebugSession=void 0;const i=s(4651);Object.defineProperty(t,"DebugSession",{enumerable:!0,get:function(){return i.DebugSession}}),Object.defineProperty(t,"InitializedEvent",{enumerable:!0,get:function(){return i.InitializedEvent}}),Object.defineProperty(t,"TerminatedEvent",{enumerable:!0,get:function(){return i.TerminatedEvent}}),Object.defineProperty(t,"ExitedEvent",{enumerable:!0,get:function(){return i.ExitedEvent}}),Object.defineProperty(t,"StoppedEvent",{enumerable:!0,get:function(){return i.StoppedEvent}}),Object.defineProperty(t,"ContinuedEvent",{enumerable:!0,get:function(){return i.ContinuedEvent}}),Object.defineProperty(t,"OutputEvent",{enumerable:!0,get:function(){return i.OutputEvent}}),Object.defineProperty(t,"ThreadEvent",{enumerable:!0,get:function(){return i.ThreadEvent}}),Object.defineProperty(t,"BreakpointEvent",{enumerable:!0,get:function(){return i.BreakpointEvent}}),Object.defineProperty(t,"ModuleEvent",{enumerable:!0,get:function(){return i.ModuleEvent}}),Object.defineProperty(t,"LoadedSourceEvent",{enumerable:!0,get:function(){return i.LoadedSourceEvent}}),Object.defineProperty(t,"CapabilitiesEvent",{enumerable:!0,get:function(){return i.CapabilitiesEvent}}),Object.defineProperty(t,"ProgressStartEvent",{enumerable:!0,get:function(){return i.ProgressStartEvent}}),Object.defineProperty(t,"ProgressUpdateEvent",{enumerable:!0,get:function(){return i.ProgressUpdateEvent}}),Object.defineProperty(t,"ProgressEndEvent",{enumerable:!0,get:function(){return i.ProgressEndEvent}}),Object.defineProperty(t,"InvalidatedEvent",{enumerable:!0,get:function(){return i.InvalidatedEvent}}),Object.defineProperty(t,"MemoryEvent",{enumerable:!0,get:function(){return i.MemoryEvent}}),Object.defineProperty(t,"Thread",{enumerable:!0,get:function(){return i.Thread}}),Object.defineProperty(t,"StackFrame",{enumerable:!0,get:function(){return i.StackFrame}}),Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return i.Variable}}),Object.defineProperty(t,"Breakpoint",{enumerable:!0,get:function(){return i.Breakpoint}}),Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return i.Source}}),Object.defineProperty(t,"Module",{enumerable:!0,get:function(){return i.Module}}),Object.defineProperty(t,"CompletionItem",{enumerable:!0,get:function(){return i.CompletionItem}}),Object.defineProperty(t,"ErrorDestination",{enumerable:!0,get:function(){return i.ErrorDestination}});const r=s(1212);Object.defineProperty(t,"LoggingDebugSession",{enumerable:!0,get:function(){return r.LoggingDebugSession}});const n=s(4100);t.Logger=n;const o=s(601);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Response",{enumerable:!0,get:function(){return o.Response}});const a=s(527);Object.defineProperty(t,"Handles",{enumerable:!0,get:function(){return a.Handles}});const c=n.logger;t.logger=c},601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class s{constructor(e){this.seq=0,this.type=e}}t.Message=s,t.Response=class extends s{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}},t.Event=class extends s{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},1839:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolServer=void 0;const i=s(2361),r=s(601);class n{get event(){return this._event||(this._event=(e,t)=>{let s;return this._listener=e,this._this=t,s={dispose:()=>{this._listener=void 0,this._this=void 0}},s}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch(e){}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}}class o extends i.EventEmitter{constructor(){super(),this._sendMessage=new n,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,s=this._pendingRequests.get(t.request_seq);s&&(this._pendingRequests.delete(t.request_seq),s(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._sequence=1,this._writableStream=t,this._rawData=Buffer.alloc(0),e.on("data",(e=>this._handleData(e))),e.on("close",(()=>{this._emitEvent(new r.Event("close"))})),e.on("error",(e=>{this._emitEvent(new r.Event("error","inStream error: "+(e&&e.message)))})),t.on("error",(e=>{this._emitEvent(new r.Event("error","outStream error: "+(e&&e.message)))})),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error(`attempt to send more than one response for command ${e.command}`):this._send("response",e)}sendRequest(e,t,s,i){const n={command:e};if(t&&Object.keys(t).length>0&&(n.arguments=t),this._send("request",n),i){this._pendingRequests.set(n.seq,i);const e=setTimeout((()=>{clearTimeout(e);const t=this._pendingRequests.get(n.seq);t&&(this._pendingRequests.delete(n.seq),t(new r.Response(n,"timeout")))}),s)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);this.handleMessage(t)}catch(e){this._emitEvent(new r.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(o.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const s=t[e].split(/: +/);"Content-Length"==s[0]&&(this._contentLength=+s[1])}this._rawData=this._rawData.slice(e+o.TWO_CRLF.length);continue}}break}}}t.ProtocolServer=o,o.TWO_CRLF="\r\n\r\n"},8153:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runDebugAdapter=void 0;const i=s(1808);t.runDebugAdapter=function(e){let t=0;if(process.argv.slice(2).forEach((function(e,s,i){const r=/^--server=(\d{4,5})$/.exec(e);r&&(t=parseInt(r[1],10))})),t>0)console.error(`waiting for debug protocol on port ${t}`),i.createServer((t=>{console.error(">> accepted connection from client"),t.on("end",(()=>{console.error(">> client connection closed\n")}));const s=new e(!1,!0);s.setRunAsServer(!0),s.start(t,t)})).listen(t);else{const t=new e(!1);process.on("SIGTERM",(()=>{t.shutdown()})),t.start(process.stdin,process.stdout)}}},291:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;class s{constructor(e,t){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=t}generateVariable(e){const t=[...this.scopes[this.scopes.length-1]];return e&&t.push(e),t.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+"\n"}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let t=this.reverseImports.get(e);return t||(t=this.imports.push(e)-1,this.reverseImports.set(e,t)),`${this.importPath}[${t}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){const t=this.references.get(e);t&&(t.resolved=!0)}markRequested(e){e.forEach((e=>{const t=this.references.get(e);t&&(t.requested=!0)}))}getUnresolvedReferences(){return Array.from(this.references).filter((([e,t])=>!t.resolved&&!t.requested)).map((([e,t])=>e))}}const i=new Map,r="___parser_",n={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},o={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},a={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1};class c{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new c}primitiveGenerateN(e,t){const s=o[e],i=a[e];t.pushCode(`${t.generateVariable(this.varName)} = dataView.get${s}(offset, ${i});`),t.pushCode(`offset += ${n[e]};`)}primitiveN(e,t,s){return this.setNextParser(e,t,s)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,t={}){return this.primitiveN("uint8",e,t)}uint16(e,t={}){return this.primitiveN(this.useThisEndian("uint16"),e,t)}uint16le(e,t={}){return this.primitiveN("uint16le",e,t)}uint16be(e,t={}){return this.primitiveN("uint16be",e,t)}uint32(e,t={}){return this.primitiveN(this.useThisEndian("uint32"),e,t)}uint32le(e,t={}){return this.primitiveN("uint32le",e,t)}uint32be(e,t={}){return this.primitiveN("uint32be",e,t)}int8(e,t={}){return this.primitiveN("int8",e,t)}int16(e,t={}){return this.primitiveN(this.useThisEndian("int16"),e,t)}int16le(e,t={}){return this.primitiveN("int16le",e,t)}int16be(e,t={}){return this.primitiveN("int16be",e,t)}int32(e,t={}){return this.primitiveN(this.useThisEndian("int32"),e,t)}int32le(e,t={}){return this.primitiveN("int32le",e,t)}int32be(e,t={}){return this.primitiveN("int32be",e,t)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,t={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,t)}int64be(e,t={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,t)}int64le(e,t={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,t)}uint64(e,t={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,t)}uint64be(e,t={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,t)}uint64le(e,t={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,t)}floatle(e,t={}){return this.primitiveN("floatle",e,t)}floatbe(e,t={}){return this.primitiveN("floatbe",e,t)}doublele(e,t={}){return this.primitiveN("doublele",e,t)}doublebe(e,t={}){return this.primitiveN("doublebe",e,t)}bitN(e,t,s){return s.length=e,this.setNextParser("bit",t,s)}bit1(e,t={}){return this.bitN(1,e,t)}bit2(e,t={}){return this.bitN(2,e,t)}bit3(e,t={}){return this.bitN(3,e,t)}bit4(e,t={}){return this.bitN(4,e,t)}bit5(e,t={}){return this.bitN(5,e,t)}bit6(e,t={}){return this.bitN(6,e,t)}bit7(e,t={}){return this.bitN(7,e,t)}bit8(e,t={}){return this.bitN(8,e,t)}bit9(e,t={}){return this.bitN(9,e,t)}bit10(e,t={}){return this.bitN(10,e,t)}bit11(e,t={}){return this.bitN(11,e,t)}bit12(e,t={}){return this.bitN(12,e,t)}bit13(e,t={}){return this.bitN(13,e,t)}bit14(e,t={}){return this.bitN(14,e,t)}bit15(e,t={}){return this.bitN(15,e,t)}bit16(e,t={}){return this.bitN(16,e,t)}bit17(e,t={}){return this.bitN(17,e,t)}bit18(e,t={}){return this.bitN(18,e,t)}bit19(e,t={}){return this.bitN(19,e,t)}bit20(e,t={}){return this.bitN(20,e,t)}bit21(e,t={}){return this.bitN(21,e,t)}bit22(e,t={}){return this.bitN(22,e,t)}bit23(e,t={}){return this.bitN(23,e,t)}bit24(e,t={}){return this.bitN(24,e,t)}bit25(e,t={}){return this.bitN(25,e,t)}bit26(e,t={}){return this.bitN(26,e,t)}bit27(e,t={}){return this.bitN(27,e,t)}bit28(e,t={}){return this.bitN(28,e,t)}bit29(e,t={}){return this.bitN(29,e,t)}bit30(e,t={}){return this.bitN(30,e,t)}bit31(e,t={}){return this.bitN(31,e,t)}bit32(e,t={}){return this.bitN(32,e,t)}namely(e){return i.set(e,this),this.alias=e,this}skip(e,t={}){return this.seek(e,t)}seek(e,t={}){if(t.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("length or greedy must be defined if stripNull is enabled.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)}buffer(e,t){if(!t.length&&!t.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,t)}wrapped(e,t){if("object"!=typeof t&&"object"==typeof e&&(t=e,e=""),!t||!t.wrapper||!t.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!t.length&&!t.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,t)}array(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!t.type)throw new Error("type is required for array.");if("string"==typeof t.type&&!i.has(t.type)&&!(t.type in n))throw new Error(`Array element type "${t.type}" is unkown.`);return this.setNextParser("array",e,t)}choice(e,t){if("object"!=typeof t&&"object"==typeof e&&(t=e,e=""),!t)throw new Error("tag and choices are are required for choice.");if(!t.tag)throw new Error("tag is requird for choice.");if(!t.choices)throw new Error("choices is required for choice.");for(const e in t.choices){const s=parseInt(e,10),r=t.choices[s];if(isNaN(s))throw new Error(`Choice key "${e}" is not a number.`);if("string"==typeof r&&!i.has(r)&&!(r in n))throw new Error(`Choice type "${r}" is unkown.`)}return this.setNextParser("choice",e,t)}nest(e,t){if("object"!=typeof t&&"object"==typeof e&&(t=e,e=""),!t||!t.type)throw new Error("type is required for nest.");if(!(t.type instanceof c||i.has(t.type)))throw new Error("type must be a known parser name or a Parser object.");if(!(t.type instanceof c||e))throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,t)}pointer(e,t){if(!t.offset)throw new Error("offset is required for pointer.");if(!t.type)throw new Error("type is required for pointer.");if("string"==typeof t.type&&!(t.type in n)&&!i.has(t.type))throw new Error(`Pointer type "${t.type}" is unkown.`);return this.setNextParser("pointer",e,t)}saveOffset(e,t={}){return this.setNextParser("saveOffset",e,t)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){const t=new s(e,this.useContextVariables);return t.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(t),t.pushCode(`return ${r+this.alias}(0).result;`)):this.addRawCode(t),t}getCode(){return this.getContext("imports").code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${r+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){const t=e.getUnresolvedReferences();e.markRequested(t),t.forEach((t=>{var s;null===(s=i.get(t))||void 0===s||s.addAliasedCode(e)}))}compile(){const e="imports",t=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${t.code} };`)(t.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(n).indexOf(this.type)>=0)e=n[this.type];else if("string"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("array"===this.type&&"number"==typeof this.options.length){let t=NaN;"string"==typeof this.options.type?t=n[this.options.type]:this.options.type instanceof c&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"seek"===this.type?e=this.options.length:"nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,t,s){const i=new c;return i.type=e,i.varName=t,i.options=s,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e)}"bit"!==this.type&&this.generateAssert(e)}const t=e.generateVariable(this.varName);return this.options.formatter&&"bit"!==this.type&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;const t=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const s=e.addImport(this.options.assert);e.pushCode(`if (!${s}.call(vars, ${t})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${t}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${t}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${t} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){const t=JSON.parse(JSON.stringify(this));if(t.options=this.options,t.generateAssert=this.generateAssert.bind(this),t.generateFormatter=this.generateFormatter.bind(this),t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const t=e.generateTmpVariable();e.pushCode(`var ${t} = 0;`);const s=(t=0)=>{let s=0;for(let i=t;i<e.bitFields.length;i++){const t=e.bitFields[i].options.length;if(s+t>32)break;s+=t}return s},i=s=>(s<=8?(e.pushCode(`${t} = dataView.getUint8(offset);`),s=8):s<=16?(e.pushCode(`${t} = dataView.getUint16(offset);`),s=16):s<=24?(e.pushCode(`${t} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),s=24):(e.pushCode(`${t} = dataView.getUint32(offset);`),s=32),e.pushCode(`offset += ${s/8};`),s);let r=0;const n="be"===this.endian;let o=0,a=0;e.bitFields.forEach(((c,h)=>{let l=c.options.length;if(l>a){if(a){const s=-1>>>32-a;e.pushCode(`${c.varName} = (${t} & 0x${s.toString(16)}) << ${l-a};`),l-=a}r=0,a=o=i(s(h)-a)}const u=n?o-r-l:r,d=-1>>>32-l;e.pushCode(`${c.varName} ${l<c.options.length?"|=":"="} ${t} >> ${u} & 0x${d.toString(16)};`),32===c.options.length&&e.pushCode(`${c.varName} >>>= 0`),c.options.assert&&c.generateAssert(e),c.options.formatter&&c.generateFormatter(e,c.varName,c.options.formatter),r+=l,a-=l})),e.bitFields=[]}}generateSeek(e){const t=e.generateOption(this.options.length);e.pushCode(`offset += ${t};`)}generateString(e){const t=e.generateVariable(this.varName),s=e.generateTmpVariable(),i=this.options.encoding,r="hex"===i.toLowerCase(),n='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const o=this.options.length;e.pushCode(`var ${s} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${s} < ${o});`);const a=`offset - ${s} < ${o} ? offset - 1 : offset`;e.pushCode(r?`${t} = Array.from(buffer.subarray(${s}, ${a}), ${n}).join('');`:`${t} = new TextDecoder('${i}').decode(buffer.subarray(${s}, ${a}));`)}else if(this.options.length){const s=e.generateOption(this.options.length);e.pushCode(r?`${t} = Array.from(buffer.subarray(offset, offset + ${s}), ${n}).join('');`:`${t} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${s}));`),e.pushCode(`offset += ${s};`)}else this.options.zeroTerminated?(e.pushCode(`var ${s} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(r?`${t} = Array.from(buffer.subarray(${s}, offset - 1), ${n}).join('');`:`${t} = new TextDecoder('${i}').decode(buffer.subarray(${s}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${s} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(r?`${t} = Array.from(buffer.subarray(${s}, offset), ${n}).join('');`:`${t} = new TextDecoder('${i}').decode(buffer.subarray(${s}, offset));`));this.options.stripNull&&e.pushCode(`${t} = ${t}.replace(/\\x00+$/g, '')`)}generateBuffer(e){const t=e.generateVariable(this.varName);if("function"==typeof this.options.readUntil){const s=this.options.readUntil,i=e.generateTmpVariable(),r=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${r} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${r} = dataView.getUint8(offset);`);const n=e.addImport(s);e.pushCode(`if (${n}.call(${e.generateVariable()}, ${r}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${t} = buffer.subarray(${i}, offset);`)}else if("eof"===this.options.readUntil)e.pushCode(`${t} = buffer.subarray(offset);`);else{const s=e.generateOption(this.options.length);e.pushCode(`${t} = buffer.subarray(offset, offset + ${s});`),e.pushCode(`offset += ${s};`)}this.options.clone&&e.pushCode(`${t} = buffer.constructor.from(${t});`)}generateArray(e){const t=e.generateOption(this.options.length),s=e.generateOption(this.options.lengthInBytes),h=this.options.type,l=e.generateTmpVariable(),u=e.generateVariable(this.varName),d=e.generateTmpVariable(),p=this.options.key,f="string"==typeof p;if(f?e.pushCode(`${u} = {};`):e.pushCode(`${u} = [];`),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode(`for (var ${l} = 0; offset < buffer.length; ${l}++) {`):void 0!==s?e.pushCode(`for (var ${l} = offset + ${s}; offset < ${l}; ) {`):e.pushCode(`for (var ${l} = ${t}; ${l} > 0; ${l}--) {`),"string"==typeof h)if(i.get(h)){const i=e.generateTmpVariable();if(e.pushCode(`var ${i} = ${r+h}(offset, {`),e.useContextVariables){const i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`),this.options.readUntil||void 0!==s||e.pushCode(`$index: ${t} - ${l},`)}e.pushCode("});"),e.pushCode(`var ${d} = ${i}.result; offset = ${i}.offset;`),h!==this.alias&&e.addReference(h)}else{const t=o[h],s=a[h];e.pushCode(`var ${d} = dataView.get${t}(offset, ${s});`),e.pushCode(`offset += ${n[h]};`)}else if(h instanceof c){e.pushCode(`var ${d} = {};`);const i=e.generateVariable();e.pushScope(d),e.useContextVariables&&(e.pushCode(`${d}.$parent = ${i};`),e.pushCode(`${d}.$root = ${i}.$root;`),this.options.readUntil||void 0!==s||e.pushCode(`${d}.$index = ${t} - ${l};`)),h.generate(e),e.useContextVariables&&(e.pushCode(`delete ${d}.$parent;`),e.pushCode(`delete ${d}.$root;`),e.pushCode(`delete ${d}.$index;`)),e.popScope()}if(f?e.pushCode(`${u}[${d}.${p}] = ${d};`):e.pushCode(`${u}.push(${d});`),e.pushCode("}"),"function"==typeof this.options.readUntil){const t=this.options.readUntil,s=e.addImport(t);e.pushCode(`while (!${s}.call(${e.generateVariable()}, ${d}, buffer.subarray(offset)));`)}}generateChoiceCase(e,t,s){if("string"==typeof s){const t=e.generateVariable(this.varName);if(i.has(s)){const i=e.generateTmpVariable();e.pushCode(`var ${i} = ${r+s}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${t}.$parent,`),e.pushCode(`$root: ${t}.$root,`)),e.pushCode("});"),e.pushCode(`${t} = ${i}.result; offset = ${i}.offset;`),s!==this.alias&&e.addReference(s)}else{const i=o[s],r=a[s];e.pushCode(`${t} = dataView.get${i}(offset, ${r});`),e.pushCode(`offset += ${n[s]}`)}}else s instanceof c&&(e.pushPath(t),s.generate(e),e.popPath(t))}generateChoice(e){const t=e.generateOption(this.options.tag),s=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${s} = {};`),e.useContextVariables)){const t=e.generateVariable();e.pushCode(`${s}.$parent = ${t};`),e.pushCode(`${s}.$root = ${t}.$root;`)}e.pushCode(`switch(${t}) {`);for(const t in this.options.choices){const s=parseInt(t,10),i=this.options.choices[s];e.pushCode(`case ${s}:`),this.generateChoiceCase(e,this.varName,i),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${t} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${s}.$parent;`),e.pushCode(`delete ${s}.$root;`))}generateNest(e){const t=e.generateVariable(this.varName);if(this.options.type instanceof c){if(this.varName&&(e.pushCode(`${t} = {};`),e.useContextVariables)){const s=e.generateVariable();e.pushCode(`${t}.$parent = ${s};`),e.pushCode(`${t}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${t}.$parent;`),e.pushCode(`delete ${t}.$root;`))}else if(i.has(this.options.type)){const s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${r+this.options.type}(offset, {`),e.useContextVariables){const t=e.generateVariable();e.pushCode(`$parent: ${t},`),e.pushCode(`$root: ${t}.$root,`)}e.pushCode("});"),e.pushCode(`${t} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){const t=e.generateVariable(this.varName),s=e.generateTmpVariable();if("function"==typeof this.options.readUntil){const t=this.options.readUntil,i=e.generateTmpVariable(),r=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${r} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${r} = dataView.getUint8(offset);`);const n=e.addImport(t);e.pushCode(`if (${n}.call(${e.generateVariable()}, ${r}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${s} = buffer.subarray(${i}, offset);`)}else if("eof"===this.options.readUntil)e.pushCode(`${s} = buffer.subarray(offset);`);else{const t=e.generateOption(this.options.length);e.pushCode(`${s} = buffer.subarray(offset, offset + ${t});`),e.pushCode(`offset += ${t};`)}this.options.clone&&e.pushCode(`${s} = buffer.constructor.from(${s});`);const n=e.generateTmpVariable(),o=e.generateTmpVariable(),a=e.generateTmpVariable(),h=e.addImport(this.options.wrapper);if(e.pushCode(`${s} = ${h}.call(this, ${s}).subarray(0);`),e.pushCode(`var ${n} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${a} = dataView;`),e.pushCode(`buffer = ${s};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof c)this.varName&&e.pushCode(`${t} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(i.has(this.options.type)){const s=e.generateTmpVariable();e.pushCode(`var ${s} = ${r+this.options.type}(0);`),e.pushCode(`${t} = ${s}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${n};`),e.pushCode(`dataView = ${a};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,t,s){if("function"==typeof s){const i=e.addImport(s);e.pushCode(`${t} = ${i}.call(${e.generateVariable()}, ${t});`)}}generatePointer(e){const t=this.options.type,s=e.generateOption(this.options.offset),h=e.generateTmpVariable(),l=e.generateVariable(this.varName);if(e.pushCode(`var ${h} = offset;`),e.pushCode(`offset = ${s};`),this.options.type instanceof c){if(e.pushCode(`${l} = {};`),e.useContextVariables){const t=e.generateVariable();e.pushCode(`${l}.$parent = ${t};`),e.pushCode(`${l}.$root = ${t}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${l}.$parent;`),e.pushCode(`delete ${l}.$root;`))}else if(i.has(this.options.type)){const t=e.generateTmpVariable();if(e.pushCode(`var ${t} = ${r+this.options.type}(offset, {`),e.useContextVariables){const t=e.generateVariable();e.pushCode(`$parent: ${t},`),e.pushCode(`$root: ${t}.$root,`)}e.pushCode("});"),e.pushCode(`${l} = ${t}.result; offset = ${t}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(n).indexOf(this.options.type)>=0){const s=o[t],i=a[t];e.pushCode(`${l} = dataView.get${s}(offset, ${i});`),e.pushCode(`offset += ${n[t]};`)}e.pushCode(`offset = ${h};`)}generateSaveOffset(e){const t=e.generateVariable(this.varName);e.pushCode(`${t} = offset`)}}t.Parser=c},5497:(e,t,s)=>{e.exports=s(1261)},1261:(e,t,s)=>{"use strict";var i=s(2081).exec,r=s(2081).execSync,n=s(7147),o=s(1017),a=n.access,c=n.accessSync,h=n.constants||n,l="win32"==process.platform,u=function(e){return/[^A-Za-z0-9_\/:=-]/.test(e)&&(e=(e="'"+e.replace(/'/g,"'\\''")+"'").replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),e};l&&(u=function(e){return/[\\]/.test(e)?'"'+o.dirname(e)+'":"'+o.basename(e)+'"':'"'+e+'"'}),e.exports=function e(t,s){var r=u(t);if(!s&&"undefined"!=typeof Promise)return new Promise((function(s,i){e(t,(function(e,r){r?s(t):i(e)}))}));l?function(e,t,s){/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(e)?i("where "+t,(function(e){s(null,null===e)})):s(null,!1)}(t,r,s):function(e,t,s){!function(e,t){a(e,h.F_OK,(function(e){t(!e)}))}(e,(function(r){r?function(e,t){a(e,h.F_OK|h.X_OK,(function(e){t(null,!e)}))}(e,s):i("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }",(function(e,t,i){s(null,!!t)}))}))}(t,r,s)},e.exports.sync=function(e){var t=u(e);return l?function(e,t,s){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(e))return!1;try{return!!r("where "+t,{stdio:[]})}catch(e){return!1}}(e,t):function(e,t){if(function(e){try{return c(e,h.F_OK),!1}catch(e){return!0}}(e))try{return!!r("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }")}catch(e){return!1}return function(e){try{return c(e,h.F_OK|h.X_OK),!0}catch(e){return!1}}(e)}(e,t)}},1227:(e,t,s)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;t.splice(1,0,s,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))})),t.splice(r,0,s)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=s(2447)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,s)=>{e.exports=function(e){function t(e){let s,r,n,o=null;function a(...e){if(!a.enabled)return;const i=a,r=Number(new Date),n=r-(s||r);i.diff=n,i.prev=s,i.curr=r,s=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((s,r)=>{if("%%"===s)return"%";o++;const n=t.formatters[r];if("function"==typeof n){const t=e[o];s=n.call(i,t),e.splice(o,1),o--}return s})),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,n=t.enabled(e)),n),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,s){const i=t(this.namespace+(void 0===s?":":s)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let s;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(s=0;s<r;s++)i[s]&&("-"===(e=i[s].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let s,i;for(s=0,i=t.skips.length;s<i;s++)if(t.skips[s].test(e))return!1;for(s=0,i=t.names.length;s<i;s++)if(t.names[s].test(e))return!0;return!1},t.humanize=s(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((s=>{t[s]=e[s]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s|=0;return t.colors[Math.abs(s)%t.colors.length]},t.enable(t.load()),t}},5158:(e,t,s)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=s(1227):e.exports=s(39)},39:(e,t,s)=>{const i=s(6224),r=s(3837);t.init=function(e){e.inspectOpts={};const s=Object.keys(t.inspectOpts);for(let i=0;i<s.length;i++)e.inspectOpts[s[i]]=t.inspectOpts[s[i]]},t.log=function(...e){return process.stderr.write(r.format(...e)+"\n")},t.formatArgs=function(s){const{namespace:i,useColors:r}=this;if(r){const t=this.color,r="[3"+(t<8?t:"8;5;"+t),n=`  ${r};1m${i} [0m`;s[0]=n+s[0].split("\n").join("\n"+n),s.push(r+"m+"+e.exports.humanize(this.diff)+"[0m")}else s[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+i+" "+s[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(process.stderr.fd)},t.destroy=r.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=s(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const s=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[s]=i,e}),{}),e.exports=s(2447)(t);const{formatters:n}=e.exports;n.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},n.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)}},6560:e=>{"use strict";e.exports=(e,t=process.argv)=>{const s=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(s+e),r=t.indexOf("--");return-1!==i&&(-1===r||i<r)}},7824:e=>{var t=1e3,s=60*t,i=60*s,r=24*i;function n(e,t,s,i){var r=t>=1.5*s;return Math.round(e/s)+" "+i+(r?"s":"")}e.exports=function(e,o){o=o||{};var a,c,h=typeof e;if("string"===h&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(n){var o=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*r;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*s;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===h&&isFinite(e))return o.long?(a=e,(c=Math.abs(a))>=r?n(a,c,r,"day"):c>=i?n(a,c,i,"hour"):c>=s?n(a,c,s,"minute"):c>=t?n(a,c,t,"second"):a+" ms"):function(e){var n=Math.abs(e);return n>=r?Math.round(e/r)+"d":n>=i?Math.round(e/i)+"h":n>=s?Math.round(e/s)+"m":n>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},473:e=>{function t(e,t){this._elements=new Array(e||50),this._first=0,this._last=0,this._size=0,this._evictedCb=t}e.exports=t,t.prototype.capacity=function(){return this._elements.length},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.isFull=function(){return this.size()===this.capacity()},t.prototype.peek=function(){if(this.isEmpty())throw new Error("RingBuffer is empty");return this._elements[this._first]},t.prototype.peekN=function(e){if(e>this._size)throw new Error("Not enough elements in RingBuffer");var t=Math.min(this._first+e,this.capacity()),s=this._elements.slice(this._first,t);if(t<this.capacity())return s;var i=this._elements.slice(0,e-s.length);return s.concat(i)},t.prototype.deq=function(){var e=this.peek();return this._size--,this._first=(this._first+1)%this.capacity(),e},t.prototype.deqN=function(e){var t=this.peekN(e);return this._size-=e,this._first=(this._first+e)%this.capacity(),t},t.prototype.enq=function(e){this._end=(this._first+this.size())%this.capacity();var t=this.isFull();return t&&this._evictedCb&&this._evictedCb(this._elements[this._end]),this._elements[this._end]=e,t?this._first=(this._first+1)%this.capacity():this._size++,this.size()},t.prototype.size=function(){return this._size}},2130:(e,t,s)=>{"use strict";const i=s(2037),r=s(6224),n=s(6560),{env:o}=process;let a;function c(e,t={}){return 0!==(s=function(e,{streamIsTTY:t,sniffFlags:s=!0}={}){const r=function(){if("FORCE_COLOR"in o)return"true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(Number.parseInt(o.FORCE_COLOR,10),3)}();void 0!==r&&(a=r);const c=s?a:r;if(0===c)return 0;if(s){if(n("color=16m")||n("color=full")||n("color=truecolor"))return 3;if(n("color=256"))return 2}if(e&&!t&&void 0===c)return 0;const h=c||0;if("dumb"===o.TERM)return h;if("win32"===process.platform){const e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((e=>e in o))||"codeship"===o.CI_NAME?1:h;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=Number.parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:h}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:s,hasBasic:!0,has256:s>=2,has16m:s>=3};var s}n("no-color")||n("no-colors")||n("color=false")||n("color=never")?a=0:(n("color")||n("colors")||n("color=true")||n("color=always"))&&(a=1),e.exports={supportsColor:c,stdout:c({isTTY:r.isatty(1)}),stderr:c({isTTY:r.isatty(2)})}},2159:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GDBServer=t.ServerConsoleLog=t.GdbPid=void 0;const r=s(2081),n=s(2037),o=s(1808),a=s(7147),c=s(1017),h=s(2361),l=s(9512),u=s(3200),d=s(530);function p(e,s){if(e)try{const i=n.tmpdir(),r=new Date;s&&(t.GdbPid=s),(e=`[${r.toISOString()}] ppid=${process.pid} pid=${t.GdbPid} `+e).endsWith("\n")||(e+="\n"),a.appendFileSync(c.join(i,"cortex-debug-server-exiting.log"),e)}catch(e){console.log(e?e.toString():"unknown exception?")}}t.GdbPid=-1,t.ServerConsoleLog=p;let f=[];class g extends h.EventEmitter{constructor(e,t,s,i,r,n){super(),this.cwd=e,this.application=t,this.args=s,this.initMatch=i,this.port=r,this.consolePort=n,this.outBuffer="",this.errBuffer="",this.consoleSocket=null,this.pid=-1,this.exitTimeout=null,this.killInProgress=!1}init(){return new Promise(((e,t)=>i(this,void 0,void 0,(function*(){if(null!==this.application){this.initResolve=e,this.initReject=t;try{yield this.connectToConsole()}catch(e){p("GDBServer: Could not connect to console: "+e),t(e)}this.process=r.spawn(this.application,this.args,{cwd:this.cwd}),f.push(this),this.pid=this.process.pid,this.process.stdout.on("data",this.onStdout.bind(this)),this.process.stderr.on("data",this.onStderr.bind(this)),this.process.on("exit",this.onExit.bind(this)),this.process.on("error",this.onError.bind(this)),-1!==this.application.indexOf("st-util")&&"win32"===n.platform()&&(0,l.setTimeout)((()=>{this.initResolve&&(this.initResolve(!0),this.initReject=null,this.initResolve=null)}),500),null==this.initMatch&&(0,l.setTimeout)((()=>{this.initResolve&&(this.initResolve(!0),this.initReject=null,this.initResolve=null)}),100)}else e(!0)}))))}isExternal(){return!this.application}isProcessRunning(){return!!this.process}exit(){if(this.process&&!this.killInProgress)try{p(`GDBServer(${this.pid}): forcing an exit with kill()`),this.killInProgress=!0,this.process.kill()}catch(e){p(`GDBServer(${this.pid}): Trying to force and exit failed ${e}`)}}onExit(e,t){p(`GDBServer(${this.pid}): exited code=${e} signal=${t}`),f=f.filter((e=>e!==this)),this.process=null,this.exitTimeout&&(clearTimeout(this.exitTimeout),this.exitTimeout=null),this.emit("exit",e,t),this.disconnectConsole()}onError(e){this.initReject&&(this.initReject(e),this.initReject=null,this.initResolve=null),this.emit("launcherror",e)}onStdout(e){if(this.sendToConsole(e),this.initResolve){this.outBuffer+="string"==typeof e?e:e.toString("utf8"),this.initResolve&&this.initMatch&&this.initMatch.test(this.outBuffer)&&(this.initResolve(!0),this.initResolve=null,this.initReject=null);const t=this.outBuffer.lastIndexOf("\n");-1!==t&&(this.outBuffer=this.outBuffer.substring(t+1))}}onStderr(e){if(this.sendToConsole(e),this.initResolve){this.errBuffer+="string"==typeof e?e:e.toString("utf8"),this.initResolve&&this.initMatch&&this.initMatch.test(this.errBuffer)&&(this.initResolve(!0),this.initResolve=null,this.initReject=null);const t=this.errBuffer.lastIndexOf("\n");-1!==t&&(this.errBuffer=this.errBuffer.substring(t+1))}}connectToConsole(){return new Promise(((e,t)=>{const s=new o.Socket;s.on("data",(e=>{try{this.process.stdin.write(e,"utf8")}catch(e){console.error(`stdin write failed ${e}`)}})),s.once("close",(()=>{this.consoleSocket=null})),s.on("error",(e=>{if("ECONNRESET"!==e.code){const s=`Error: unexpected socket error ${e}. Please report this problem`;this.emit("output",s+"\n"),console.error(s),this.consoleSocket||t(e)}else this.consoleSocket&&(this.consoleSocket.destroy(),this.consoleSocket=null)})),s.connect(this.consolePort,"127.0.0.1",(()=>{s.write((0,d.greenFormat)((0,u.quoteShellCmdLine)([this.application,...this.args])+"\n")),this.consoleSocket=s,e()}))}))}sendToConsole(e){this.consoleSocket?this.consoleSocket.write(e):console.error("sendToConsole: console not open. How did this happen?")}disconnectConsole(){try{this.consoleSocket&&(this.consoleSocket.destroy(),this.consoleSocket=null)}catch(e){}}}t.GDBServer=g,g.SERVER_TIMEOUT=1e4,g.LOCALHOST="0.0.0.0",process.on("exit",((e,t)=>{if(f.length>0){p(`Debug Adapter crashed or killed by VSCode? code=${e} signal=${t}`);for(const e of[...f])e.exit()}}))},3200:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPathRelative=t.SpawnLineReader=t.validateELFHeader=t.sanitizeDevDebug=t.quoteShellCmdLine=t.quoteShellAndCmdChars=t.HrTimer=t.ResettableTimeout=t.ResettableInterval=t.getNonce=t.parseHostPort=t.toStringDecHexOctBin=t.parseHexOrDecInt=t.getAnyFreePort=t.createPortName=t.calculatePortMask=t.RTTServerHelper=t.genDownloadCommands=t.CTIAction=t.defSymbolFile=t.ChainedEvents=t.TelemetryEvent=t.RTTConfigureEvent=t.BinaryEncoding=t.TextEncoding=t.TerminalInputMode=t.SWOConfigureEvent=t.StoppedEvent=t.GenericCustomEvent=t.NumberFormat=t.CortexDebugKeys=t.ADAPTER_DEBUG_MODE=void 0;const r=s(9955),n=s(2361),o=s(3725),a=s(2159),c=s(2081),h=s(7147),l=s(2037),u=s(1017),d=s(4521);var p,f,g,m,b,v,y,C;!function(e){e.NONE="none",e.PARSED="parsed",e.BOTH="both",e.RAW="raw",e.VSCODE="vscode"}(p=t.ADAPTER_DEBUG_MODE||(t.ADAPTER_DEBUG_MODE={})),(g=t.CortexDebugKeys||(t.CortexDebugKeys={})).REGISTER_DISPLAY_MODE="registerUseNaturalFormat",g.VARIABLE_DISPLAY_MODE="variableUseNaturalFormat",g.SERVER_LOG_FILE_NAME="dbgServerLogfile",g.DEV_DEBUG_MODE="showDevDebugOutput",(f=t.NumberFormat||(t.NumberFormat={}))[f.Auto=0]="Auto",f[f.Hexadecimal=1]="Hexadecimal",f[f.Decimal=2]="Decimal",f[f.Binary=3]="Binary";class w extends r.Event{constructor(e,t){super("custom-event-"+e,{info:t})}}t.GenericCustomEvent=w;class S extends r.Event{constructor(e,t,s){super("stopped",{reason:e,threadId:t,allThreadsStopped:s})}}t.StoppedEvent=S;class E extends r.Event{constructor(e){super("swo-configure",e)}}t.SWOConfigureEvent=E,(v=t.TerminalInputMode||(t.TerminalInputMode={})).COOKED="cooked",v.RAW="raw",v.RAWECHO="rawecho",v.DISABLED="disabled",(b=t.TextEncoding||(t.TextEncoding={})).UTF8="utf8",b.UTF16LE="utf16le",b.ASCII="ascii",b.UCS2="ucs2",(m=t.BinaryEncoding||(t.BinaryEncoding={})).UNSIGNED="unsigned",m.SIGNED="signed",m.Q1616="Q16.16",m.FLOAT="float";class T extends r.Event{constructor(e){super("rtt-configure",e)}}t.RTTConfigureEvent=T;class P extends r.Event{constructor(e,t,s,i={}){super("record-event",{category:e,action:t,label:s,parameters:i})}}function x(e){const t=/[\s\"\*\[\]!@#$%^&*\(\)\\:]/g.test(e)?'"':"";return t+(e=e.replace(/"/g,'\\"').replace(/\\/g,"\\\\")).replace(/"/g,'\\"')+t}t.TelemetryEvent=P,(C=t.ChainedEvents||(t.ChainedEvents={})).POSTSTART="postStart",C.POSTINIT="postInit",t.defSymbolFile=function(e){return{file:e,sections:[],sectionMap:{}}},(y=t.CTIAction||(t.CTIAction={}))[y.init=0]="init",y[y.pause=1]="pause",y[y.resume=2]="resume",t.genDownloadCommands=function(e,t){if(Array.isArray(null==e?void 0:e.loadFiles)){if(0===e.loadFiles.length)return[];{const s=[...t];for(const t of e.loadFiles){const e=t.replace(/\\/g,"/");s.push(`file-exec-file "${e}"`,"target-download")}return s}}return[...t,"target-download"]},t.RTTServerHelper=class{constructor(){this.rttLocalPortMap={},this.allocDone=!1}allocateRTTPorts(e,t=6e4){if(this.allocDone=!0,!e||!e.enabled||!e.decoders||0===e.decoders.length)return Promise.resolve();const s="??";for(const t of e.decoders)if(t.ports&&t.ports.length>0){t.tcpPorts=[];for(const e of t.ports)this.rttLocalPortMap[e]=s}else this.rttLocalPortMap[t.port]=s;const i={min:t,max:t+2e3,retrieve:Object.keys(this.rttLocalPortMap).length,consecutive:!1};return o.TcpPortScanner.findFreePorts(i,a.GDBServer.LOCALHOST).then((t=>{for(const i of e.decoders)if(i.ports&&i.ports.length>0){i.tcpPorts=[];for(const e of i.ports){let r=this.rttLocalPortMap[e];r===s&&(r=t.shift().toString(),this.rttLocalPortMap[e]=r),i.tcpPorts.push(r)}}else{let e=this.rttLocalPortMap[i.port];e===s&&(e=t.shift().toString(),this.rttLocalPortMap[i.port]=e),i.tcpPort=e}}))}emitConfigures(e,t){let s=!1;if(e.enabled)for(const i of e.decoders)(i.tcpPort||i.tcpPorts)&&(t.emit("event",new T({type:"socket",decoder:i})),s=!0);return s}},t.calculatePortMask=function(e){if(!e)return 0;let t=0;return e.forEach((e=>{if("advanced"===e.type)for(const s of e.ports)t=(t|1<<s)>>>0;else t=(t|1<<e.port)>>>0})),t},t.createPortName=function(e,t="gdbPort"){return t+(0===e?"":e.toString())},t.getAnyFreePort=function(e){return new Promise(((t,s)=>i(this,void 0,void 0,(function*(){function i(){o.TcpPortScanner.findFreePorts({min:6e4,max:62e3,retrieve:1,consecutive:!1},a.GDBServer.LOCALHOST).then((e=>{t(e[0])})).catch((e=>{s(e)}))}e>0?o.TcpPortScanner.isPortInUseEx(e,a.GDBServer.LOCALHOST,o.TcpPortScanner.AvoidPorts).then((s=>{s?i():(o.TcpPortScanner.EmitAllocated([e]),t(e))})):i()}))))},t.parseHexOrDecInt=function(e){return e.startsWith("0x")?parseInt(e.substring(2),16):parseInt(e,10)},t.toStringDecHexOctBin=function(e){if(Number.isNaN(e))return"NaN: Not a number";if(!Number.isSafeInteger(e))return"Big Num: "+e.toString()+"\nother-radix values not yet available. Sorry";let t=`dec: ${e}`;e<0&&(e=1+~((e=-e)>>>0)>>>0);let s=e.toString(16);s="0x"+"0".repeat(Math.max(0,8-s.length))+s,t+=`\nhex: ${s}`,s=e.toString(8),s="0".repeat(Math.max(0,12-s.length))+s,t+=`\noct: ${s}`,s=e.toString(2),s="0".repeat(Math.max(0,32-s.length))+s;let i="";for(;;){if(s.length<=8){i=s+i;break}i=" "+s.slice(-8)+i,s=s.slice(0,-8)}return t+=`\nbin: ${i}`,t},t.parseHostPort=function(e){let t,s="127.0.0.1";const i=e.match(/(.*)\:([0-9]+)/);return i?(s=i[1]?i[1]:s,t=parseInt(i[2],10)):(e.startsWith(":")&&(e=e.slice(1)),t=parseInt(e,10)),{port:t,host:s}},t.getNonce=function(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let s=0;s<32;s++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t.ResettableInterval=class{constructor(e,t,s=!1,...i){this.cb=e,this.interval=t,this.args=i,s&&this.cb(...this.args),this.intervalId=setInterval(this.cb,this.interval,...this.args)}kill(){this.isRunning()&&(clearInterval(this.intervalId),this.intervalId=null)}reset(e){this.kill(),void 0!==e&&(this.interval=e),this.intervalId=setInterval(this.cb,this.interval,...this.args)}isRunning(){return null!=this.intervalId}},t.ResettableTimeout=class{constructor(e,t,...s){this.cb=e,this.interval=t,this.timeoutId=null,this.args=s,this.timeoutId=setTimeout(((...e)=>{this.timeoutId=null,this.cb(...this.args)}),this.interval,...this.args)}kill(){this.isRunning()&&(clearTimeout(this.timeoutId),this.timeoutId=null)}reset(e){this.kill(),void 0!==e&&(this.interval=e),this.timeoutId=setTimeout(this.cb,this.interval,...this.args)}isRunning(){return null!==this.timeoutId}},t.HrTimer=class{constructor(){this.start=process.hrtime.bigint()}restart(){this.start=process.hrtime.bigint()}getStart(){return this.start}deltaNs(){return(process.hrtime.bigint()-this.start).toString()}deltaUs(){return this.toStringWithRes(3)}deltaMs(){return this.toStringWithRes(6)}createPaddedMs(e){return this.deltaMs().padStart(e,"0")}createDateTimestamp(){const e=this.createPaddedMs(6);return`[${(new Date).toISOString()}, +${e}ms]`}toStringWithRes(e){let t=(process.hrtime.bigint()-this.start+BigInt(Math.pow(10,e)/2)).toString();return t=t.length<=e?"0":t.substr(0,t.length-e),t}},t.quoteShellAndCmdChars=x,t.quoteShellCmdLine=function(e){return e.map((e=>x(e))).join(" ")},t.sanitizeDevDebug=function(e){const t=Object.values(p);let s=e.showDevDebugOutput;if("string"==typeof s&&(s=s.toLowerCase().trim(),e.showDevDebugOutput=s),!1===s||"false"===s||""===s||"none"===s)delete e.showDevDebugOutput;else if(!0===s||"true)"===s)e.showDevDebugOutput=p.RAW;else if(t.indexOf(s)<0)return e.showDevDebugOutput=p.VSCODE,!1;return!0},t.validateELFHeader=function(e,t){try{if(!h.existsSync(e))return t&&t(`File not found "executable": "${e}"`,!0),!1;const s=Buffer.alloc(16),i=h.openSync(e,"r"),r=h.readSync(i,s,0,16,0);return h.closeSync(i),16!==r?(t&&t(`Could not read 16 bytes from "executable": "${e}"`,!0),!1):127===s[0]&&69===s[1]&&76===s[2]&&70===s[3]||(t&&t(`Not a valid ELF file "executable": "${e}". Many debug functions can fail or not work properly`,!1),!1)}catch(s){return t&&t(`Could not read file "executable": "${e}" ${s?s.toString():""}`,!0),!1}};class R extends n.EventEmitter{constructor(){super()}startWithProgram(e,t=[],s={},i=null){if(this.promise)throw new Error("SpawnLineReader: can't reuse this object");return this.callback=i,this.promise=new Promise((i=>{try{const r=c.spawn(e,t,s);r.on("error",(e=>{this.emit("error",e),i(!1)})),r.on("exit",((e,t)=>{this.emit("exit",e,t)})),this.doReadline(r.stdout,i)}catch(e){this.emit("error",e)}})),this.promise}startWithStream(e,t=null){if(this.promise)throw new Error("SpawnLineReader: can't reuse this object");return this.callback=t,this.promise=new Promise((t=>{this.doReadline(e,t)})),this.promise}startWithFile(e,t=null,s=null){if(this.promise)throw new Error("SpawnLineReader: can't reuse this object");return this.callback=s,this.promise=new Promise((s=>{const i=h.createReadStream(e,t||{flags:"r"});i.on("error",(e=>{this.emit("error",e),s(!1)})),i.on("open",(()=>{this.doReadline(i,s)}))})),this.promise}doReadline(e,t){try{const s=d.createInterface({input:e,crlfDelay:1/0,console:!1});s.on("line",(e=>{this.callback?this.callback(e)||s.close():this.emit("line",e)})),s.once("close",(()=>{this.callback&&this.callback(null),e.destroy(),this.emit("close"),t(!0)}))}catch(e){this.emit("error",e)}}}t.SpawnLineReader=R,t.getPathRelative=function(e,t){if("win32"===l.platform()&&(e=e.replace(/\\/g,"/"),t=t.replace(/\\/g,"/")),!u.isAbsolute(e)||!u.isAbsolute(t))return t;const s=e.split("/"),i=t.split("/");if(!e||!t||e.length>t.length||s[0]!==i[0])return t;for(;s.length&&i.length&&s[0]===i[0];)s.shift(),i.shift();if(0===s.length)return"./"+i.join("/");if(s.length>4)return t;for(;s.length;)i.unshift(".."),s.shift();return i.join("/")}},530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.magentaFormat=t.greenFormat=t.BR_GREEN_FG=t.BR_MAGENTA_FG=t.RESET=t.BOLD=t.CSI=t.ESC=void 0,t.ESC="",t.CSI=t.ESC+"[",t.BOLD=t.CSI+"1m",t.RESET=t.CSI+"0m",t.BR_MAGENTA_FG=t.CSI+"95m",t.BR_GREEN_FG=t.CSI+"92m",t.greenFormat=function(e){return t.BR_GREEN_FG+e+t.RESET},t.magentaFormat=function(e){return t.BR_MAGENTA_FG+e+t.RESET}},6244:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CortexDebugConfigurationProvider=void 0;const i=s(6828),r=s(7147),n=s(2037),o=s(2057),a=s(5287),c=s(3200),h=s(8640),l=s(1017),u=["auto","FreeRTOS","ThreadX","chibios","Chromium-EC","eCos","embKernel","linux","mqx","nuttx","RIOT","uCOS-III","Zephyr"],d=["Azure","ChibiOS","embOS","FreeRTOS","NuttX","Zephyr"];class p{constructor(e){this.context=e}resolveDebugConfiguration(e,t,s){var r;if(a.GDBServerConsole.BackendPort<=0)return void i.window.showErrorMessage("GDB server console not yet ready. Please try again. Report this problem");switch(t.gdbServerConsolePort=a.GDBServerConsole.BackendPort,t.pvtAvoidPorts=h.CDebugSession.getAllUsedPorts(),n.platform()){case"darwin":Object.assign(t,t.osx),delete t.osx;break;case"win32":Object.assign(t,t.windows),delete t.windows;break;case"linux":Object.assign(t,t.linux),delete t.linux;break;default:console.log(`Unknown platform ${n.platform()}`)}this.sanitizeChainedConfigs(t),t.debugger_args&&!t.debuggerArgs&&(t.debuggerArgs=t.debugger_args),t.debuggerArgs||(t.debuggerArgs=[]);const l=t.servertype;let u=null;switch(t.swoConfig?(t.swoConfig.ports&&!t.swoConfig.decoders&&(t.swoConfig.decoders=t.swoConfig.ports),t.swoConfig.source||(t.swoConfig.source="probe"),t.swoConfig.decoders||(t.swoConfig.decoders=[]),t.swoConfig.decoders.forEach(((e,t)=>{"advanced"===e.type?void 0===e.ports&&void 0!==e.number&&(e.ports=[e.number]):void 0===e.port&&void 0!==e.number&&(e.port=e.number)}))):t.swoConfig={enabled:!1,decoders:[],cpuFrequency:0,swoFrequency:0,source:"probe"},t.rttConfig?t.rttConfig.decoders||(t.rttConfig.decoders=[]):t.rttConfig={enabled:!1,decoders:[]},t.graphConfig||(t.graphConfig=[]),t.preLaunchCommands||(t.preLaunchCommands=[]),t.postLaunchCommands||(t.postLaunchCommands=[]),t.preAttachCommands||(t.preAttachCommands=[]),t.postAttachCommands||(t.postAttachCommands=[]),t.preRestartCommands||(t.preRestartCommands=[]),t.postRestartCommands||(t.postRestartCommands=[]),t.preResetCommands||(t.preResetCommands=t.preRestartCommands),t.postResetCommands||(t.postResetCommands=t.postRestartCommands),t.runToEntryPoint?t.runToEntryPoint=t.runToEntryPoint.trim():t.runToMain&&(t.runToEntryPoint="main",i.window.showWarningMessage('launch.json: "runToMain" has been deprecated and will not work in future versions of Cortex-Debug. Please use "runToEntryPoint" instead')),"openocd"===l&&(null===(r=t.ctiOpenOCDConfig)||void 0===r?void 0:r.enabled)||delete t.ctiOpenOCDConfig,l){case"jlink":u=this.verifyJLinkConfiguration(e,t);break;case"openocd":u=this.verifyOpenOCDConfiguration(e,t);break;case"stutil":u=this.verifySTUtilConfiguration(e,t);break;case"stlink":u=this.verifySTLinkConfiguration(e,t);break;case"pyocd":u=this.verifyPyOCDConfiguration(e,t);break;case"bmp":u=this.verifyBMPConfiguration(e,t);break;case"pe":u=this.verifyPEConfiguration(e,t);break;case"external":u=this.verifyExternalConfiguration(e,t);break;case"qemu":u=this.verifyQEMUConfiguration(e,t);break;default:u='Invalid servertype parameters. The following values are supported: "jlink", "openocd", "stlink", "stutil", "pyocd", "bmp", "pe", "qemu", "external"'}const d=i.workspace.getConfiguration("cortex-debug");if(void 0===t.showDevDebugOutput&&(t.showDevDebugOutput=d.get(c.CortexDebugKeys.DEV_DEBUG_MODE,c.ADAPTER_DEBUG_MODE.NONE)),!(0,c.sanitizeDevDebug)(t)){const e=Object.values(c.ADAPTER_DEBUG_MODE);i.window.showInformationMessage(`launch.json: "showDevDebugOutput" muse be one of ${e}. Setting to "${t.showDevDebugOutput}"`)}if(t.armToolchainPath&&(t.toolchainPath=t.armToolchainPath),this.setOsSpecficConfigSetting(t,"toolchainPath","armToolchainPath"),t.toolchainPath||t.armToolchainPath||"stlink"!==t.servertype||(t.armToolchainPath=o.STLinkServerController.getArmToolchainPath()),t.toolchainPrefix||(t.toolchainPrefix=d.armToolchainPrefix||"arm-none-eabi"),this.setOsSpecficConfigSetting(t,"gdbPath"),this.setOsSpecficConfigSetting(t,"objdumpPath"),t.extensionPath=this.context.extensionPath,"win32"===n.platform()&&(t.extensionPath=t.extensionPath.replace(/\\/g,"/")),t.registerUseNaturalFormat=d.get(c.CortexDebugKeys.REGISTER_DISPLAY_MODE,!0),t.variableUseNaturalFormat=d.get(c.CortexDebugKeys.VARIABLE_DISPLAY_MODE,!0),!u)return t;i.window.showErrorMessage(u)}resolveDebugConfigurationWithSubstitutedVariables(e,t,s){var n,o;let a=t.cwd||e.uri.fsPath;l.isAbsolute(a)||(a=l.join(e.uri.fsPath,a)),t.cwd=a,r.existsSync(a)||i.window.showWarningMessage(`Invalid "cwd": "${a}". Many operations can fail. Trying to continue`),this.validateLoadAndSymbolFiles(t,a);const c=i.extensions.getExtension("marus25.cortex-debug");if(t.pvtVersion=(null===(n=null==c?void 0:c.packageJSON)||void 0===n?void 0:n.version)||"<unknown version>",null===(o=t.liveWatch)||void 0===o?void 0:o.enabled){const e=["openocd","jlink","stlink"];if(e.indexOf(t.servertype)<0){let s="";for(const t of e)s+=(s?", ":"")+`'${t}'`;i.window.showWarningMessage(`Live watch is not supported for servertype '${t.servertype}'. Only ${s} supported/tested.\nReport back to us if it works with '${t.servertype}'`)}}let h=null;if(h="jlink"===t.servertype?this.verifyJLinkConfigurationAfterSubstitution(e,t):null,!h)return t;i.window.showErrorMessage(h)}static adjustStrIntProp(e,t,s){if(!e.hasOwnProperty(t))return;let r=e[t];if(r){let n=!1;"string"==typeof r&&(r=r.trim(),n=r.match(/^0[x][0-9a-f]+/i)||r.match(/^[0-9]+/)),n?e[t]=parseInt(r):"number"!=typeof e[t]&&(i.window.showErrorMessage(`Invalid "${t}" value ${r} for ${s}. Must be a number or a string." +\n                    " Use a string starting with "0x" for a hexadecimal number`),delete e[t])}}validateLoadAndSymbolFiles(e,t){const s=(0,c.defSymbolFile)(e.executable),r=e.symbolFiles||[s];if(r&&0!==r.length){for(const s of r){let r=s.file;r=l.isAbsolute(r)?r:l.join(t,r),r=l.normalize(r).replace(/\\/g,"/"),e.symbolFiles?s.file=r:e.executable=r,p.adjustStrIntProp(s,"offset",`file ${r}`),p.adjustStrIntProp(s,"textaddress",`file ${r}`),s.sectionMap={},s.sections=s.sections||[];for(const e of s.sections)p.adjustStrIntProp(e,"address",`section ${e.name} of file ${r}`),s.sectionMap[e.name]=e;(0,c.validateELFHeader)(r,((e,t)=>{t&&i.window.showErrorMessage(e)}))}e.symbolFiles&&(e.symbolFiles=r)}else i.window.showWarningMessage('No "executable" or "symbolFiles" specified. We will try to run program without symbols');if(e.loadFiles)for(let s=0;s<e.loadFiles.length;s++){let i=e.loadFiles[s];i=l.isAbsolute(i)?i:l.join(t,i),i=l.normalize(i).replace(/\\/g,"/"),e.loadFiles[s]=i}}handleChainedInherits(e,t,s){if(!s)return;const r=["type","name","request","chainedConfigurations"];for(const n of s){if(r.includes(n)||n.startsWith("pvt")){i.window.showWarningMessage(`Cannot inherit property '${n}' for configuration '${e.name}' because it is reserved`);continue}const s=t[n];void 0!==s?e[n]=s:i.window.showWarningMessage(`Cannot inherit property '${n}' for configuration '${e.name}' because it does not exist in parent configuration`)}}handleChainedOverrides(e,t){if(!t)return;const s=["type","name","request"];for(const i of Object.keys(t)){if(s.includes(i)||i.startsWith("pvt"))continue;const r=t[i];null===r?delete e[i]:e[i]=r}}sanitizeChainedConfigs(e){const t=h.CDebugChainedSessionItem.FindByName(e.name);t&&(e.pvtParent=t.parent.config,e.pvtMyConfigFromParent=t.config,this.handleChainedInherits(e,e.pvtParent,t.config.inherits),this.handleChainedOverrides(e,t.config.overrides));const s=e.chainedConfigurations;if(!s||!s.enabled||!s.launches||0===s.launches.length)return void(e.chainedConfigurations={enabled:!1});s.delayMs||(s.delayMs=0),s.waitOnEvent&&Object.values(c.ChainedEvents).includes(s.waitOnEvent)||(s.waitOnEvent=c.ChainedEvents.POSTINIT),void 0!==s.detached&&null!==s.detached||(s.detached="jlink"===e.servertype),void 0!==s.lifecycleManagedByParent&&null!==s.lifecycleManagedByParent||(s.lifecycleManagedByParent=!0);const i=s.overrides||{};for(const e of s.launches){void 0!==e.enabled&&null!==e.enabled||(e.enabled=!0),void 0===e.delayMs&&(e.delayMs=s.delayMs),void 0!==e.detached&&null!==e.detached||(e.detached=s.detached),void 0!==e.waitOnEvent&&Object.values(c.ChainedEvents).includes(e.waitOnEvent)||(e.waitOnEvent=s.waitOnEvent),void 0!==e.lifecycleManagedByParent&&null!==e.lifecycleManagedByParent||(e.lifecycleManagedByParent=s.lifecycleManagedByParent);const t=(e.inherits||[]).concat(s.inherits||[]);t.length>0?e.inherits=t:delete e.inherits;const r=e.overrides||{};Object.keys(i).length>0||Object.keys(r).length>0?e.overrides=Object.assign(i,r):delete e.overrides}}setOsSpecficConfigSetting(e,t,s=""){if(!e[t]){s=s||t;const r=i.workspace.getConfiguration("cortex-debug")[s];if(r)if("object"==typeof r){const s=n.platform(),i="win32"===s?"windows":"darwin"===s?"osx":"linux";e[t]=r[i]||""}else e[t]=r}}verifyQEMUConfiguration(e,t){return this.setOsSpecficConfigSetting(t,"serverpath","qemupath"),t.cpu||(t.cpu="cortex-m3"),t.machine||(t.machine="lm3s6965evb"),t.swoConfig.enabled&&(i.window.showWarningMessage("SWO support is not available when using QEMU."),t.swoConfig={enabled:!1,ports:[],cpuFrequency:0,swoFrequency:0},t.graphConfig=[]),t.rtos?"RTOS support is not available when using QEMU":null}verifyJLinkConfiguration(e,t){if(t.jlinkpath&&!t.serverpath&&(t.serverpath=t.jlinkpath),!t.interface&&t.jlinkInterface&&(t.interface=t.jlinkInterface),t.interface||(t.interface="swd"),this.setOsSpecficConfigSetting(t,"serverpath","JLinkGDBServerPath"),!t.device)return"Device Identifier is required for J-Link configurations. Please see https://www.segger.com/downloads/supported-devices.php for supported devices";if(("jtag"===t.interface||"cjtag"===t.interface)&&t.swoConfig.enabled&&"probe"===t.swoConfig.source)return"SWO Decoding cannot be performed through the J-Link Probe in JTAG mode.";if(t.rttConfig&&t.rttConfig.enabled&&t.rttConfig.decoders&&0!==t.rttConfig.decoders.length){let e;for(const s of t.rttConfig.decoders){if(void 0===s.port)s.port=0;else if(s.port<0||s.port>15)return`Invalid port/channel '${s.port}'.  JLink RTT port/channel must be between 0 and 15.`;if(void 0!==e&&e!==s.port)return`Port/channel ${s.port} selected but another decoder is using port ${e}. JLink RTT only allows a single RTT port/channel per debugging session.`;e=s.port}}return null}verifyJLinkConfigurationAfterSubstitution(e,t){function s(){switch(n.platform()){case"darwin":return".dylib";case"linux":return".so";case"win32":return".dll";default:return console.log(`Unknown platform ${n.platform()}`),""}}if(t.rtos)if(-1===d.indexOf(t.rtos)){if(""===l.extname(t.rtos)&&(t.rtos=t.rtos+s()),!r.existsSync(t.rtos))return`JLink RTOS plugin file "${t.rtos}" not found.\nThe following RTOS values are supported by J-Link: ${d.join(", ")}. A custom plugin can be used by supplying a complete path to a J-Link GDB Server Plugin.`}else t.rtos=`GDBServer/RTOSPlugin_${t.rtos}`+s();return null}verifyOpenOCDConfiguration(e,t){if(t.openOCDPath&&!t.serverpath&&(t.serverpath=t.openOCDPath),this.setOsSpecficConfigSetting(t,"serverpath","openocdPath"),t.rtos&&-1===u.indexOf(t.rtos))return`The following RTOS values are supported by OpenOCD: ${u.join(" ")}.You can always use "auto" and OpenOCD generally does the right thing`;if(!h.CDebugChainedSessionItem.FindByName(t.name)){if(!t.configFiles||0===t.configFiles.length)return"At least one OpenOCD Configuration File must be specified.";t.searchDir&&0!==t.searchDir.length||(t.searchDir=[])}return null}verifySTUtilConfiguration(e,t){return t.stutilpath&&!t.serverpath&&(t.serverpath=t.stutilpath),this.setOsSpecficConfigSetting(t,"serverpath","stutilPath"),t.rtos?"The st-util GDB Server does not have support for the rtos option.":(t.swoConfig.enabled&&"probe"===t.swoConfig.source&&(i.window.showWarningMessage("SWO support is not available from the probe when using the ST-Util GDB server. Disabling SWO."),t.swoConfig={enabled:!1,ports:[],cpuFrequency:0,swoFrequency:0},t.graphConfig=[]),null)}verifySTLinkConfiguration(e,t){return t.stlinkPath&&!t.serverpath&&(t.serverpath=t.stlinkPath),this.setOsSpecficConfigSetting(t,"serverpath","stlinkPath"),this.setOsSpecficConfigSetting(t,"stm32cubeprogrammer"),t.rtos?"The ST-Link GDB Server does not have support for the rtos option.":(t.swoConfig.enabled&&"probe"===t.swoConfig.source&&(i.window.showWarningMessage("SWO support is not available from the probe when using the ST-Link GDB server. Disabling SWO."),t.swoConfig={enabled:!1,ports:[],cpuFrequency:0,swoFrequency:0},t.graphConfig=[]),null)}verifyPyOCDConfiguration(e,t){return t.pyocdPath&&!t.serverpath&&(t.serverpath=t.pyocdPath),this.setOsSpecficConfigSetting(t,"serverpath","pyocdPath"),t.rtos?"The PyOCD GDB Server does not have support for the rtos option.":(t.board&&!t.boardId&&(t.boardId=t.board),t.target&&!t.targetId&&(t.targetId=t.target),null)}verifyBMPConfiguration(e,t){return t.BMPGDBSerialPort?(t.powerOverBMP||(t.powerOverBMP="lastState"),t.interface||(t.interface="swd"),t.targetId||(t.targetId=1),t.rtos?"The Black Magic Probe GDB Server does not have support for the rtos option.":(t.swoConfig.enabled&&"probe"===t.swoConfig.source&&(i.window.showWarningMessage("SWO support is not available from the probe when using the BMP GDB server. Disabling SWO."),t.swoConfig={enabled:!1,ports:[],cpuFrequency:0,swoFrequency:0},t.graphConfig=[]),null)):"A Serial Port for the Black Magic Probe GDB server is required."}verifyPEConfiguration(e,t){return this.setOsSpecficConfigSetting(t,"serverpath","PEGDBServerPath"),t.configFiles&&t.configFiles.length>1?"Only one pegdbserver Configuration File is allowed.":t.device?t.swoConfig.enabled&&"socket"!==t.swoConfig.source?"The PE GDB Server Only supports socket type SWO":null:"Device Identifier is required for PE configurations. Please run `pegdbserver_console.exe -devicelist` for supported devices"}verifyExternalConfiguration(e,t){return t.swoConfig.enabled&&("socket"!==t.swoConfig.source||t.swoConfig.swoPort?"socket"===t.swoConfig.source||t.swoConfig.swoPath||(i.window.showWarningMessage(`SWO source type "${t.swoConfig.source}" requires a "swoPath". Disabling SWO support.`),t.swoConfig={enabled:!1},t.graphConfig=[]):(i.window.showWarningMessage('SWO source type "socket" requires a "swoPort". Disabling SWO support.'),t.swoConfig={enabled:!1},t.graphConfig=[])),t.gdbTarget?null:'External GDB server type must specify the GDB target. This should either be a "hostname:port" combination or a serial port.'}}t.CortexDebugConfigurationProvider=p},8640:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CDebugChainedSessionItem=t.CDebugSession=void 0;const i=s(6206),r=s(6828);class n{constructor(e,t){this.session=e,this.config=t,this.swo=null,this.rtt=null,this.swoSource=null,this.rttPortMap={},this.status="none",this.parent=null,this.children=[],this.usedPorts=new Set,e&&n.CurrentSessions.push(this)}getRoot(){return this.parent&&this.parent.parent?this.parent.getRoot():this}hasChildren(){return this.children.length>0}moveToRoot(){this.parent&&(this.remove(),n.ROOT.add(this))}broadcastDFS(e,t=!0){(t?this.getRoot():this)._broadcastDFS(e)}_broadcastDFS(e){for(const t of this.children)t._broadcastDFS(e);e(this)}remove(){this.parent.removeChild(this)}add(e){(0,i.assert)(!e.parent,"child already has a parent?"),this.children.find((t=>t===e))?(0,i.assert)(!1,"child already exists"):(this.children.push(e),e.parent=this)}removeChild(e){this.children=this.children.filter((t=>t!==e)),e.parent=null}stopAll(){this.broadcastDFS((e=>{r.debug.stopDebugging(e.session)}))}static RemoveSession(e){const t=n.FindSession(e);t?(t.status="exited",t.remove(),n.CurrentSessions=n.CurrentSessions.filter((t=>t.session.id!==e.id))):console.error(`Where did session ${e.id} go?`)}static FindSession(e){return n.FindSessionById(e.id)}static FindSessionById(e){return n.CurrentSessions.find((t=>t.session.id===e))}static GetSession(e,t){const s=n.FindSessionById(e.id);return s?(s.config=t||s.config,s):new n(e,t||e.configuration)}static NewSessionStarted(e){const t=n.GetSession(e);if(t.status="started",e.parentSession&&"cortex-debug"===e.parentSession.type){const s=n.FindSession(e.parentSession);s?s.add(t):r.window.showErrorMessage(`Internal Error: Have parent for new session, Parent = ${e.parentSession.name} but can't find it`)}else n.ROOT.add(t);return t}static getAllUsedPorts(){const e=new Set;for(const t of n.CurrentSessions)if("started"===t.status||"stopped"===t.status||"running"===t.status)for(const s of t.usedPorts.values())e.add(s);return Array.from(e.values())}addUsedPorts(e){for(const t of e)this.usedPorts.add(t)}}t.CDebugSession=n,n.ROOT=new n(null,null),n.CurrentSessions=[];class o{constructor(e,t,s){this.parent=e,this.config=t,this.options=s,o.SessionsStack.push(this)}static FindByName(e){return this.SessionsStack.find((t=>t.config.name===e))}static RemoveItem(e){o.SessionsStack=o.SessionsStack.filter((t=>t!==e))}}t.CDebugChainedSessionItem=o,o.SessionsStack=[]},6292:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=t.CortexDebugExtension=void 0;const r=s(6828),n=s(7147),o=s(1017),a=s(9240),c=s(8904),h=s(3200),l=s(4533),u=s(4942),d=s(6244),p=s(1337),f=s(1339),g=s(3624),m=s(1325),b=s(7561),v=s(5287),y=s(8640),C=s(2159);s(5497).sync;class w{constructor(e,t,s,i){this.name=e,this.promise=t,this.resolve=s,this.reject=i}}class S{constructor(e){this.context=e,this.rttTerminals=[],this.gdbServerConsole=null,this.SVDDirectory=[],this.functionSymbols=null;const t=r.workspace.getConfiguration("cortex-debug");this.startServerConsole(e,t.get(h.CortexDebugKeys.SERVER_LOG_FILE_NAME,"")),this.memoryProvider=new l.MemoryContentProvider;let s=[];try{const t=o.join(e.extensionPath,"data","SVDMap.json");s=JSON.parse(n.readFileSync(t,"utf8"))}catch(e){}u.default.activate(e),this.liveWatchProvider=new a.LiveWatchTreeProvider(this.context),this.liveWatchTreeView=r.window.createTreeView("cortex-debug.liveWatch",{treeDataProvider:this.liveWatchProvider}),r.commands.executeCommand("setContext",`cortex-debug:${h.CortexDebugKeys.VARIABLE_DISPLAY_MODE}`,t.get(h.CortexDebugKeys.VARIABLE_DISPLAY_MODE,!0)),e.subscriptions.push(r.workspace.registerTextDocumentContentProvider("examinememory",this.memoryProvider),r.commands.registerCommand("cortex-debug.varHexModeTurnOn",this.variablesNaturalMode.bind(this,!1)),r.commands.registerCommand("cortex-debug.varHexModeTurnOff",this.variablesNaturalMode.bind(this,!0)),r.commands.registerCommand("cortex-debug.toggleVariableHexFormat",this.toggleVariablesHexMode.bind(this)),r.commands.registerCommand("cortex-debug.examineMemory",this.examineMemory.bind(this)),r.commands.registerCommand("cortex-debug.examineMemoryLegacy",this.examineMemoryLegacy.bind(this)),r.commands.registerCommand("cortex-debug.resetDevice",this.resetDevice.bind(this)),r.commands.registerCommand("cortex-debug.pvtEnableDebug",this.pvtCycleDebugMode.bind(this)),r.commands.registerCommand("cortex-debug.liveWatch.addExpr",this.addLiveWatchExpr.bind(this)),r.commands.registerCommand("cortex-debug.liveWatch.removeExpr",this.removeLiveWatchExpr.bind(this)),r.commands.registerCommand("cortex-debug.liveWatch.editExpr",this.editLiveWatchExpr.bind(this)),r.commands.registerCommand("cortex-debug.liveWatch.addToLiveWatch",this.addToLiveWatch.bind(this)),r.commands.registerCommand("cortex-debug.liveWatch.moveUp",this.moveUpLiveWatchExpr.bind(this)),r.commands.registerCommand("cortex-debug.liveWatch.moveDown",this.moveDownLiveWatchExpr.bind(this)),r.workspace.onDidChangeConfiguration(this.settingsChanged.bind(this)),r.debug.onDidReceiveDebugSessionCustomEvent(this.receivedCustomEvent.bind(this)),r.debug.onDidStartDebugSession(this.debugSessionStarted.bind(this)),r.debug.onDidTerminateDebugSession(this.debugSessionTerminated.bind(this)),r.window.onDidChangeActiveTextEditor(this.activeEditorChanged.bind(this)),r.window.onDidCloseTerminal(this.terminalClosed.bind(this)),r.workspace.onDidCloseTextDocument(this.textDocsClosed.bind(this)),r.window.onDidChangeTextEditorSelection((e=>{e&&e.textEditor.document.fileName.endsWith(".cdmem")&&this.memoryProvider.handleSelection(e)})),r.debug.registerDebugConfigurationProvider("cortex-debug",new d.CortexDebugConfigurationProvider(e)),this.liveWatchTreeView,this.liveWatchTreeView.onDidExpandElement((e=>{this.liveWatchProvider.expandChildren(e.element),this.liveWatchProvider.saveState()})),this.liveWatchTreeView.onDidCollapseElement((e=>{e.element.expanded=!1,this.liveWatchProvider.saveState()}))),this.testSVDParser()}testSVDParser(){}textDocsClosed(e){e.fileName.endsWith(".cdmem")&&this.memoryProvider.Unregister(e)}static getActiveCDSession(){const e=r.debug.activeDebugSession;return"cortex-debug"===(null==e?void 0:e.type)?e:null}resetDevice(){var e,t;let s=S.getActiveCDSession();if(s){let i=y.CDebugSession.FindSession(s);const r=null===(e=i.config)||void 0===e?void 0:e.pvtParent;for(;i&&r;){const e=null===(t=i.config)||void 0===t?void 0:t.pvtMyConfigFromParent;if(!(null==e?void 0:e.lifecycleManagedByParent)||!r.__sessionId)break;if(i=y.CDebugSession.FindSessionById(r.__sessionId),!i)break;s=i.session||s}s.customRequest("reset-device","reset")}}startServerConsole(e,t=""){return new Promise(((s,i)=>{this.gdbServerConsole=new v.GDBServerConsole(e,t),this.gdbServerConsole.startServer().then((()=>{s()})).catch((e=>{this.gdbServerConsole.dispose(),this.gdbServerConsole=null,r.window.showErrorMessage(`Could not create gdb-server-console. Will use old style console. Please report this problem. ${e.toString()}`)}))}))}settingsChanged(e){if(e.affectsConfiguration(`cortex-debug.${h.CortexDebugKeys.VARIABLE_DISPLAY_MODE}`)){const t=!r.workspace.getConfiguration("cortex-debug").get(h.CortexDebugKeys.VARIABLE_DISPLAY_MODE,!0);let s=!1;for(const i of y.CDebugSession.CurrentSessions)try{this.isDebugging(i.session)&&(i.session.customRequest("set-var-format",{hex:t}).then((()=>{var e;"stopped"===i.status&&(null===(e=this.liveWatchProvider)||void 0===e||e.refresh(i.session))})),"stopped"===i.status&&(s=!0))}catch(e){}if(!s){const e=`Cortex-Debug: Variables window format "${t?"hex":"dec"}" will take effect next time the session pauses`;r.window.showInformationMessage(e)}}if(e.affectsConfiguration(`cortex-debug.${h.CortexDebugKeys.SERVER_LOG_FILE_NAME}`)){const e=r.workspace.getConfiguration("cortex-debug").get(h.CortexDebugKeys.SERVER_LOG_FILE_NAME,"");this.gdbServerConsole.createLogFile(e)}if(e.affectsConfiguration(`cortex-debug.${h.CortexDebugKeys.DEV_DEBUG_MODE}`)){const t=r.workspace.getConfiguration("cortex-debug").get(h.CortexDebugKeys.DEV_DEBUG_MODE,h.ADAPTER_DEBUG_MODE.NONE);for(const s of y.CDebugSession.CurrentSessions)try{s.session.customRequest("set-debug-mode",{mode:t})}catch(e){}}}getSVDFile(e){const t=this.SVDDirectory.find((t=>t.expression.test(e)));return t?t.path:null}registerSVDFile(e,t){"string"==typeof e&&(e=new RegExp(`^${e}$`,"")),this.SVDDirectory.push({expression:e,path:t})}activeEditorChanged(e){const t=S.getActiveCDSession();void 0!==e&&t&&e.document.uri.scheme}examineMemory(){const e="mcu-debug.memory-view.addMemoryView";r.commands.executeCommand(e).then((()=>{}),(t=>{const s="Install MemoryView Extension";r.window.showErrorMessage(`Unable to execute ${e}. Perhaps the MemoryView extension is not installed. Please install extension and try again. A restart may be needed`,void 0,{title:s},{title:"Cancel"}).then((e=>i(this,void 0,void 0,(function*(){e&&e.title===s&&r.commands.executeCommand("workbench.extensions.installExtension","mcu-debug.memory-view")}))))}))}examineMemoryLegacy(){S.getActiveCDSession()?r.window.showInputBox({placeHolder:"Enter a valid C/gdb expression. Use 0x prefix for hexadecimal numbers",ignoreFocusOut:!0,prompt:"Memory Address"}).then((e=>{if(!function(e){return""===e?null:e}(e=e.trim()))return r.window.showErrorMessage("Invalid memory address entered"),void u.default.sendEvent("Examine Memory","Invalid Address",e);r.window.showInputBox({placeHolder:"Enter a constant value. Prefix with 0x for hexadecimal format.",ignoreFocusOut:!0,prompt:"Length"}).then((t=>{if(!function(e){return/^0x[0-9a-f]{1,8}$/i.test(e)||/^[0-9]+$/i.test(e)?e:null}(t=t.trim()))return r.window.showErrorMessage("Invalid length entered"),void u.default.sendEvent("Examine Memory","Invalid Length",t);u.default.sendEvent("Examine Memory","Valid",`${e}-${t}`);const s=(new Date).getTime(),i=encodeURIComponent(`${e}`),n=r.Uri.parse(`examinememory:///Memory%20[${i},${t}].cdmem?address=${i}&length=${t}&timestamp=${s}`);this.memoryProvider.PreRegister(n),r.workspace.openTextDocument(n).then((e=>{this.memoryProvider.Register(e),r.window.showTextDocument(e,{viewColumn:2,preview:!1}),u.default.sendEvent("Examine Memory","Used")}),(e=>{r.window.showErrorMessage(`Failed to examine memory: ${e}`),u.default.sendEvent("Examine Memory","Error",e.toString())}))}),(e=>{}))}),(e=>{})):r.window.showErrorMessage("No cortex-debug session available")}variablesNaturalMode(e,t){const s=r.workspace.getConfiguration("cortex-debug");r.commands.executeCommand("setContext",`cortex-debug:${h.CortexDebugKeys.VARIABLE_DISPLAY_MODE}`,e);try{s.update(h.CortexDebugKeys.VARIABLE_DISPLAY_MODE,e)}catch(e){console.error(e)}}toggleVariablesHexMode(){const e=r.workspace.getConfiguration("cortex-debug"),t=!e.get(h.CortexDebugKeys.VARIABLE_DISPLAY_MODE,!0);r.commands.executeCommand("setContext",`cortex-debug:${h.CortexDebugKeys.VARIABLE_DISPLAY_MODE}`,t);try{e.update(h.CortexDebugKeys.VARIABLE_DISPLAY_MODE,t)}catch(e){console.error(e)}}pvtCycleDebugMode(){const e=r.workspace.getConfiguration("cortex-debug"),t=e.get(h.CortexDebugKeys.DEV_DEBUG_MODE,h.ADAPTER_DEBUG_MODE.NONE),s=Object.values(h.ADAPTER_DEBUG_MODE);let i=s.indexOf(t);i=i<0?i=0:(i+1)%s.length,e.set(h.CortexDebugKeys.DEV_DEBUG_MODE,s[i])}debugSessionStarted(e){if("cortex-debug"!==e.type)return;const t=y.CDebugSession.NewSessionStarted(e);this.functionSymbols=null,e.customRequest("get-arguments").then((s=>{t.config=s;let i=s.svdFile;i||(i=this.getSVDFile(s.device)),u.default.beginSession(e.id,s),t.swoSource&&this.initializeSWO(e,s),Object.keys(t.rttPortMap).length>0&&this.initializeRTT(e,s),this.cleanupRTTTerminals()}),(e=>{r.window.showErrorMessage(`Internal Error: Could not get startup arguments. Many debug functions can fail. Please report this problem. Error: ${e}`)}))}debugSessionTerminated(e){var t;if("cortex-debug"!==e.type)return;const s=y.CDebugSession.FindSession(e);try{if(u.default.endSession(e.id),null===(t=this.liveWatchProvider)||void 0===t||t.debugSessionTerminated(e),(null==s?void 0:s.swo)&&s.swo.debugSessionTerminated(),(null==s?void 0:s.swoSource)&&s.swoSource.dispose(),(null==s?void 0:s.rtt)&&s.rtt.debugSessionTerminated(),null==s?void 0:s.rttPortMap){for(const e of Object.keys(s.rttPortMap))s.rttPortMap[e].dispose();s.rttPortMap={}}}catch(e){r.window.showInformationMessage(`Debug session did not terminate cleanly ${e}\n${e?e.stackstrace:""}. Please report this problem`)}finally{y.CDebugSession.RemoveSession(e)}}receivedCustomEvent(e){var t,s,i;const n=e.session;if("cortex-debug"===n.type)switch(e.event){case"custom-stop":this.receivedStopEvent(e);break;case"custom-continued":this.receivedContinuedEvent(e);break;case"swo-configure":this.receivedSWOConfigureEvent(e);break;case"rtt-configure":this.receivedRTTConfigureEvent(e);break;case"record-event":this.receivedEvent(e);break;case"custom-event-post-start-server":this.startChainedConfigs(e,h.ChainedEvents.POSTSTART);break;case"custom-event-post-start-gdb":this.startChainedConfigs(e,h.ChainedEvents.POSTINIT),null===(t=this.liveWatchProvider)||void 0===t||t.debugSessionStarted(n);break;case"custom-event-session-terminating":(0,C.ServerConsoleLog)("Got event for sessions terminating",process.pid),this.endChainedConfigs(e);break;case"custom-event-session-restart":this.resetOrResartChained(e,"restart");break;case"custom-event-session-reset":this.resetOrResartChained(e,"reset");break;case"custom-event-popup":const o=null===(s=e.body.info)||void 0===s?void 0:s.message;switch(null===(i=e.body.info)||void 0===i?void 0:i.type){case"warning":r.window.showWarningMessage(o);break;case"error":r.window.showErrorMessage(o);break;default:r.window.showInformationMessage(o)}break;case"custom-event-ports-allocated":this.registerPortsAsUsed(e);break;case"custom-event-ports-done":this.signalPortsAllocated(e)}}signalPortsAllocated(e){this.serverStartedEvent&&(this.serverStartedEvent.resolve(e),this.serverStartedEvent=void 0)}registerPortsAsUsed(e){var t;y.CDebugSession.GetSession(e.session).addUsedPorts((null===(t=e.body)||void 0===t?void 0:t.info)||[])}startChainedConfigs(e,t){var s,n;return i(this,void 0,void 0,(function*(){const i=null===(s=null==e?void 0:e.body)||void 0===s?void 0:s.info,o=y.CDebugSession.GetSession(e.session,i);if(!i||!(null===(n=i.chainedConfigurations)||void 0===n?void 0:n.enabled))return;const a=i.chainedConfigurations.launches.filter(((e,t)=>t===i.chainedConfigurations.launches.findIndex(((t,s)=>t.name===e.name)))).filter((e=>e.enabled&&e.waitOnEvent===t&&e.name));let c=0,h=a.length;for(const t of a){h--;const s={consoleMode:r.DebugConsoleMode.Separate,noDebug:i.noDebug,compact:!1};t.lifecycleManagedByParent&&(s.lifecycleManagedByParent=!0,s.parentSession=e.session),c+=Math.max(t.delayMs||0,0);const n=new y.CDebugChainedSessionItem(o,t,s),a=this.getWsFolder(t.folder,e.session.workspaceFolder,t.name);if(setTimeout((()=>{r.debug.startDebugging(a,t.name,s).then((e=>{e||r.window.showErrorMessage("Failed to launch chained configuration "+t.name),y.CDebugChainedSessionItem.RemoveItem(n)}),(e=>{r.window.showErrorMessage(`Failed to launch chained configuration ${t.name}: ${e}`),y.CDebugChainedSessionItem.RemoveItem(n)}))}),c),t&&t.detached&&h>0){try{let e,s;const i=new Promise(((t,i)=>{e=t,s=i}));this.serverStartedEvent=new w(t.name,i,e,s);let r=setTimeout((()=>{this.serverStartedEvent&&(this.serverStartedEvent.reject(new Error(`Timeout starting chained session: ${t.name}`)),this.serverStartedEvent=void 0),r=void 0}),5e3);yield i,r&&clearTimeout(r)}catch(e){r.window.showErrorMessage(`Detached chained configuration launch failed? Aborting rest. Error: ${e}`);break}c=0}else c+=5}}))}endChainedConfigs(e){const t=y.CDebugSession.FindSession(e.session);if(t&&t.hasChildren){const s=[],i=[];for(t.broadcastDFS((e=>{e!==t&&(e.config.pvtMyConfigFromParent.lifecycleManagedByParent?s.push(e):i.push(e))}),!1);i.length>0;)i.pop().moveToRoot();for(;s.length>0;){const t=s.pop();(0,C.ServerConsoleLog)(`Sending custom-stop-debugging to ${t.session.name}`,process.pid),t.session.customRequest("custom-stop-debugging",e.body.info).then((()=>{}),(e=>{r.window.showErrorMessage(`Cortex-Debug: Bug? session.customRequest('set-stop-debugging-type', ... failed ${e}\n`)}))}}}resetOrResartChained(e,t){const s=y.CDebugSession.FindSession(e.session);s&&s.hasChildren&&s.broadcastDFS((e=>{e!==s&&e.config.pvtMyConfigFromParent.lifecycleManagedByParent&&e.session.customRequest("reset-device",t).then((()=>{}),(e=>{}))}),!1)}getWsFolder(e,t,s){if(e){const t=e,i=e=>(e="/"===(e=o.normalize(e).replace(/\\/g,"/"))?e:e.replace(/\/+$/,""),"win32"===process.platform&&(e=e.toLowerCase()),e);e=i(e);for(const t of r.workspace.workspaceFolders){const s=i(t.uri.fsPath);if(t.uri.fsPath===e||t.name===e||s===e)return t}r.window.showInformationMessage(`Chained configuration for '${s}' specified folder is '${t}' normalized path is '${e}' did not match any workspace folders. Using parents folder.`)}return t}getCurrentArgs(e){if(!(e||(e=r.debug.activeDebugSession)&&"cortex-debug"===e.type))return;const t=y.CDebugSession.FindSession(e);return t?t.config:e.configuration}getCurrentProp(e,t){const s=this.getCurrentArgs(e);return s?s[t]:void 0}isDebugging(e){return!0!==this.getCurrentProp(e,"noDebug")}receivedStopEvent(e){var t;const s=y.CDebugSession.FindSession(e.session);s.status="stopped",null===(t=this.liveWatchProvider)||void 0===t||t.debugStopped(e.session),r.workspace.textDocuments.filter((e=>e.fileName.endsWith(".cdmem"))).forEach((e=>{e.isClosed||this.memoryProvider.update(e)})),s.swo&&s.swo.debugStopped(),s.rtt&&s.rtt.debugStopped()}receivedContinuedEvent(e){var t;const s=y.CDebugSession.FindSession(e.session);s.status="running",null===(t=this.liveWatchProvider)||void 0===t||t.debugContinued(e.session),s.swo&&s.swo.debugContinued(),s.rtt&&s.rtt.debugContinued()}receivedEvent(e){u.default.sendEvent(e.body.category,e.body.action,e.body.label,e.body.parameters)}receivedSWOConfigureEvent(e){const t=y.CDebugSession.GetSession(e.session);if("socket"===e.body.type){let s;return s="pe"===t.config.servertype?new p.PeMicroSocketSource(e.body.port):new p.SocketSWOSource(e.body.port),t.swoSource=s,this.initializeSWO(e.session,e.body.args),s.start().then((()=>{console.log(`Connected after ${s.nTries} tries`)}),(e=>{r.window.showErrorMessage(`Could not open SWO TCP port ${e.body.port} ${e} after ${s.nTries} tries`)})),void u.default.sendEvent("SWO","Source","Socket")}"fifo"===e.body.type?(t.swoSource=new f.FifoSWOSource(e.body.path),u.default.sendEvent("SWO","Source","FIFO")):"file"===e.body.type?(t.swoSource=new g.FileSWOSource(e.body.path),u.default.sendEvent("SWO","Source","File")):"serial"===e.body.type&&(t.swoSource=new m.SerialSWOSource(e.body.device,e.body.baudRate,this.context.extensionPath),u.default.sendEvent("SWO","Source","Serial")),this.initializeSWO(e.session,e.body.args)}receivedRTTConfigureEvent(e){if("socket"===e.body.type){const t=e.body.decoder;if("console"===t.type||"binary"===t.type)u.default.sendEvent("RTT","Source","Socket: Console"),this.rttCreateTerninal(e,t);else if(u.default.sendEvent("RTT","Source",`Socket: ${t.type}`),t.ports)for(let s=0;s<t.ports.length;s+=1)this.createRTTSource(e,t.tcpPorts[s],t.ports[s]);else this.createRTTSource(e,t.tcpPort,t.port)}else console.error("receivedRTTConfigureEvent: unknown type: "+e.body.type)}createRTTSource(e,t,s){const i=y.CDebugSession.GetSession(e.session);return new Promise(((e,n)=>{let o=i.rttPortMap[s];o?e(o):(o="jlink"===i.config.servertype?new p.JLinkSocketRTTSource(t,s):new p.SocketRTTSource(t,s),i.rttPortMap[s]=o,e(o),o.start().then((()=>{i.session.customRequest("rtt-poll")})).catch((e=>{r.window.showErrorMessage(`Could not connect to RTT TCP port ${t} ${e}`)})))}))}cleanupRTTTerminals(){this.rttTerminals=this.rttTerminals.filter((e=>!!e.inUse||(e.dispose(),!1)))}rttCreateTerninal(e,t){this.createRTTSource(e,t.tcpPort,t.port).then((e=>{for(const s of this.rttTerminals)if(!s.inUse&&s.tryReuse(t,e))return void(r.debug.activeDebugConsole&&r.debug.activeDebugConsole.appendLine(`Reusing RTT terminal for channel ${t.port} on tcp port ${t.tcpPort}`));const s=new b.RTTTerminal(this.context,t,e);this.rttTerminals.push(s),r.debug.activeDebugConsole&&r.debug.activeDebugConsole.appendLine(`Created RTT terminal for channel ${t.port} on tcp port ${t.tcpPort}`)}))}terminalClosed(e){this.rttTerminals=this.rttTerminals.filter((t=>t.terminal!==e))}initializeSWO(e,t){const s=y.CDebugSession.FindSession(e);s.swoSource?s.swo||(s.swo=new c.SWOCore(e,s.swoSource,t,this.context.extensionPath)):r.window.showErrorMessage("Tried to initialize SWO Decoding without a SWO data source")}initializeRTT(e,t){const s=y.CDebugSession.FindSession(e);s.rtt||(s.rtt=new c.RTTCore(s.rttPortMap,t,this.context.extensionPath))}addLiveWatchExpr(){r.window.showInputBox({placeHolder:"Enter a valid C/gdb expression. Must be a global variable expression",ignoreFocusOut:!0,prompt:"Enter Live Watch Expression"}).then((e=>{e&&this.liveWatchProvider.addWatchExpr(e,r.debug.activeDebugSession)}))}addToLiveWatch(e){var t;if(!e||!e.sessionId)return;const s=y.CDebugSession.FindSessionById(e.sessionId);if(!s)return void r.window.showErrorMessage(`addToLiveWatch: Unknown debug session id ${e.sessionId}`);const i=e.container,n=null===(t=e.variable)||void 0===t?void 0:t.evaluateName;if(i&&n){const e=i.variablesReference;s.session.customRequest("is-global-or-static",{varRef:e}).then((e=>{e.success?this.liveWatchProvider.addWatchExpr(n,r.debug.activeDebugSession):r.window.showErrorMessage(`Cannot add ${n} to Live Watch. Must be a global or static variable`)}),(e=>{console.log(e)}))}}removeLiveWatchExpr(e){this.liveWatchProvider.removeWatchExpr(e)}editLiveWatchExpr(e){this.liveWatchProvider.editNode(e)}moveUpLiveWatchExpr(e){this.liveWatchProvider.moveUpNode(e)}moveDownLiveWatchExpr(e){this.liveWatchProvider.moveDownNode(e)}}t.CortexDebugExtension=S,t.activate=function(e){return new S(e)},t.deactivate=function(){}},4533:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryContentProvider=void 0;const i=s(6828),r=s(3200),n=s(6292),o=s(2942);t.MemoryContentProvider=class{constructor(){this._onDidChange=new i.EventEmitter,this.onDidChange=this._onDidChange.event,this.allMemoryWindows={},this.firstBytePos=10,this.lastBytePos=this.firstBytePos+48-1,this.firstAsciiPos=this.lastBytePos+3,this.lastAsciiPos=this.firstAsciiPos+16,this.smallDecorationType=i.window.createTextEditorDecorationType({borderWidth:"1px",borderStyle:"solid",overviewRulerColor:"blue",overviewRulerLane:i.OverviewRulerLane.Right,light:{borderColor:"darkblue"},dark:{borderColor:"lightblue"}})}Unregister(e){const t=this.allMemoryWindows[e.uri.path];t&&(t.isClosed=!0,t.textDoc=void 0)}PreRegister(e){const t={textDoc:void 0,isClosed:!1,uri:e,lastText:""};this.allMemoryWindows[e.path]=t}Register(e){const t=this.allMemoryWindows[e.uri.path];t&&(t.textDoc=e,t.isClosed=!1)}provideTextDocumentContent(e){return new Promise(((t,s)=>{const a=this.allMemoryWindows[e.path];if(a&&a.isClosed)return void t(a.lastText);const c=this.parseQuery(e.query),h=c.address,l=(0,r.parseHexOrDecInt)(c.length),u=n.CortexDebugExtension.getActiveCDSession();u?u.customRequest("read-memory",{address:h,length:l||32}).then((e=>{const s=e.bytes,i=(0,r.parseHexOrDecInt)(e.startAddress);let n=i-i%16;const c=i-n;let h="";h+="  Offset: 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F \t\n",h+=(0,o.hexFormat)(n,8,!1)+": ";let u="";for(let e=0;e<c;e++)h+="   ",u+=" ";for(let e=0;e<l;e++){const t=s[e];h+=(0,o.hexFormat)(t,2,!1).toUpperCase()+" ",u+=t<=32||t>=127&&t<=159?".":String.fromCharCode(s[e]),(i+e)%16==15&&e<l-1&&(h+="  "+u,u="",h+="\n",n+=16,h+=(0,o.hexFormat)(n,8,!1)+": ")}const d=(16-(i+l)%16)%16;for(let e=0;e<d;e++)h+="   ";h+="  "+u,h+="\n",a&&(a.lastText=h),t(h)}),(e=>{const t=e.message||"";i.window.showErrorMessage(`Unable to read memory from ${h} of length ${(0,o.hexFormat)(l,8)}: ${t}`),s(e.toString())})):s(new Error("MemoryContentProvider: unknown debug session type"))}))}update(e){this._onDidChange.fire(e.uri)}parseQuery(e){const t={};function s(e){const s=e.split("="),i=s.shift();t[i]=s.join("=")}const i=("?"===e[0]?e.substr(1):e).split("&");return s(i.pop()),s(i.pop()),s(i.join("&")),t}getOffset(e){if(e.line<1||e.character<this.firstBytePos)return;let t=16*(e.line-1);const s=e.character-this.firstBytePos;return e.character>=this.firstBytePos&&e.character<=this.lastBytePos?t+=Math.floor(s/3):e.character>=this.firstAsciiPos&&(t+=e.character-this.firstAsciiPos),t}getPosition(e,t=!1){const s=1+Math.floor(e/16);let r=e%16;return t?r+=this.firstAsciiPos:r=this.firstBytePos+3*r,new i.Position(s,r)}getRanges(e,t,s){const r=this.getPosition(e,s);let n=this.getPosition(t,s);n=new i.Position(n.line,n.character+(s?1:2));const o=[],a=s?this.firstAsciiPos:this.firstBytePos,c=s?this.lastAsciiPos:this.lastBytePos;for(let e=r.line;e<=n.line;++e){const t=new i.Position(e,e===r.line?r.character:a),s=new i.Position(e,e===n.line?n.character:c);o.push(new i.Range(t,s))}return o}handleSelection(e){const t=e.textEditor.document.lineCount;if(e.selections[0].start.line+1===t||e.selections[0].end.line+1===t)return void e.textEditor.setDecorations(this.smallDecorationType,[]);const s=this.getOffset(e.selections[0].start),i=this.getOffset(e.selections[0].end);if(void 0===s||void 0===i)return void e.textEditor.setDecorations(this.smallDecorationType,[]);let r=this.getRanges(s,i,!1);r=r.concat(this.getRanges(s,i,!0)),e.textEditor.setDecorations(this.smallDecorationType,r)}}},8477:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PtyTerminal=t.magentaWrite=void 0;const i=s(2361),r=s(2037),n=s(6828),o=s(3200),a=s(530);t.magentaWrite=function(e,t){t&&t.write(a.BR_MAGENTA_FG+e+a.RESET)};const c={},h="@".charCodeAt(0);for(let e=h;e<="Z".charCodeAt(0);e++)c[String.fromCharCode(e)]=e-h;class l{static cursorUp(e=1){return e>0?a.CSI+e.toString()+"A":""}static cursorDown(e=1){return e>0?a.CSI+e.toString()+"B":""}static cursorForward(e=1){return e>0?a.CSI+e.toString()+"C":""}static cursorBack(e=1){return e>0?a.CSI+e.toString()+"D":""}static clearAll(){return a.CSI+"2J"+a.CSI+"3J"+a.CSI+";H"}static clearScreen(){return a.CSI+"2J"+a.CSI+";H"}static deleteChar(){return a.CSI+"P"}static deletePrevChar(){return l.cursorBack()+l.deleteChar()}static deleteCurrChar(){return l.deleteChar()}static killLineForward(){return a.CSI+"K"}static killLine(e=0){return l.cursorBack(e)+l.killLineForward()}static killEntireLine(){return a.CSI+"2K"}}class u extends i{constructor(e){super(),this.options=e,this.writeEmitter=new n.EventEmitter,this.didPrompt=!1,this.curLine="",this.cursorPos=1,this.terminal=null,this.disposing=!1,this.isPaused=!1,this.promptTimer=null,this.isReady=!1,this.pendingWrites=[],this.suspendPrompting=!1,this.pty={onDidWrite:this.writeEmitter.event,open:()=>{this.onOpen()},close:()=>{this.onClose()},handleInput:e=>{this.handleInput(e)}},this.terminal=n.window.createTerminal({name:this.options.name,pty:this.pty}),this.resetOptions(e),u.oldOnes[this.options.name]=this,n.window.onDidCloseTerminal((e=>{e!==this.terminal||this.disposing||this.onClose()}))}onOpen(){if(this.isReady=!0,this.pendingWrites.length){for(const e of this.pendingWrites)this.write(e);this.pendingWrites=[]}else this.doPrompt()}onClose(){this.emit("close"),super.removeAllListeners(),delete u.oldOnes[this.options.name],this.isReady=!1,this.terminal=null}static findExisting(e){return u.oldOnes[e]}pause(){this.isPaused=!0}resume(){this.isPaused=!1}resetOptions(e){if(this.options.name!==e.name)throw Error("Reset terminal: Terminal name cannot change once created");this.promptTimer&&(this.promptTimer.kill(),this.promptTimer=null),this.unPrompt(),this.options=e,this.curLine="",this.cursorPos=1,this.write("\n")}handleInput(e){if(!this.isPaused&&this.options.inputMode!==o.TerminalInputMode.DISABLED)try{switch(e){case"\r":this.handleReturn(e);break;case"":this.options.inputMode===o.TerminalInputMode.COOKED?this.killPrevChar():this.emit("data",e);break;default:this.handleSpecialChars(e)||this.handleOtherChars(e)}}catch(e){console.error(`MyPtyTerminal: handleInput: ${e}`)}}handleReturn(e){this.options.inputMode===o.TerminalInputMode.COOKED?this.emit("data",this.curLine+r.EOL):this.emit("data",e),this.options.inputMode!==o.TerminalInputMode.RAW&&(this.writeEmitter.fire("\r\n"),this.cursorPos=1,this.curLine="",this.didPrompt=!1,this.doPrompt())}handleOtherChars(e){const t=e.split(/\r\n|\r|\n/);t.length>1&&(this.promptTimer&&(this.promptTimer.kill(),this.promptTimer=null),this.didPrompt=!1,this.suspendPrompting=!0);for(let e=0;e<t.length;e++){const s=t[e],i=e===t.length-1;if(""===s&&i){this.suspendPrompting=!1,this.doPrompt();break}let r=this.curLine.slice(this.cursorPos-1);if(this.curLine=u.insertCharsAt(this.curLine,s,this.cursorPos-1),this.writeEmitter.fire(l.killLineForward()),i){r=this.curLine.slice(this.cursorPos-1),this.writeEmitter.fire(r);const e=r.length-s.length;this.writeEmitter.fire(l.cursorBack(e)),this.cursorPos+=s.length}else this.writeEmitter.fire(s),this.cursorPos+=s.length,this.curLine=r.length>0?this.curLine.slice(0,-r.length):this.curLine,this.handleReturn("\r"),r.length>0&&(this.writeEmitter.fire(r+l.cursorBack(r.length)),this.curLine=r)}this.suspendPrompting=!1}handleSpecialChars(e){if(this.options.inputMode!==o.TerminalInputMode.COOKED)return this.options.inputMode===o.TerminalInputMode.RAWECHO&&this.writeEmitter.fire(e),this.emit("data",e),!0;let t=e.charCodeAt(0);if(27===t){if("["!==e[1]||3!==e.length)return!1;switch(e[2]){case"A":case"B":break;case"C":this.moveRight();break;case"D":this.moveLeft();break;case"H":this.moveToBeg();break;case"E":this.moveToEnd()}return!0}if(1===e.length&&t<32){switch(e=String.fromCharCode(t+=64)){case"C":this.emit("break");break;case"D":"win32"!==r.platform()&&this.emit("eof");break;case"Z":"win32"===r.platform()&&this.emit("eof");break;case"A":this.moveToBeg();break;case"E":this.moveToEnd();break;case"F":this.moveRight();break;case"B":this.moveLeft();break;case"D":this.killCurrChar();break;case"H":this.killPrevChar();break;case"K":this.killLineFromCursor();break;case"U":this.killEntireLine();break;case"L":this.clearScreen()}return!0}return!1}clearScreen(){this.writeEmitter.fire(l.clearScreen()),this.curLine="",this.cursorPos=1,this.didPrompt=!1,this.doPrompt()}killEntireLine(){const e=this.cursorPos-1;this.writeEmitter.fire(l.killLine(e)),this.cursorPos=1,this.curLine=""}killLineFromCursor(){const e=this.curLine.length-this.cursorPos+1;e>1&&(this.writeEmitter.fire(l.killLineForward()),this.curLine=this.curLine.slice(this.cursorPos-1,e))}killCurrChar(){this.cursorPos<=this.curLine.length&&(this.writeEmitter.fire(l.deleteCurrChar()),this.curLine=u.removeCharAt(this.curLine,this.cursorPos-1))}moveToEnd(){const e=this.curLine.length-this.cursorPos+1;e>0&&(this.writeEmitter.fire(l.cursorForward(e)),this.cursorPos+=e)}moveToBeg(){const e=this.cursorPos-1;e>0&&(this.writeEmitter.fire(l.cursorBack(e)),this.cursorPos=1)}moveLeft(){this.cursorPos>1&&(this.writeEmitter.fire(l.cursorBack(1)),this.cursorPos--)}moveRight(){this.cursorPos<=this.curLine.length&&(this.writeEmitter.fire(l.cursorForward(1)),this.cursorPos++)}killPrevChar(){this.cursorPos>1&&(this.writeEmitter.fire(l.deletePrevChar()),this.cursorPos--,this.curLine=u.removeCharAt(this.curLine,this.cursorPos-1))}static removeCharAt(e,t){return 0===t?e.slice(1):t>=e.length-1?e.slice(0,-1):e.slice(0,t)+e.slice(t+1)}static insertCharsAt(e,t,s){return 0===s?t+e:s>=e.length?e+t:e.slice(0,s)+t+e.slice(s)}clearTerminalBuffer(){this.writeEmitter.fire(l.clearAll()),this.curLine="",this.cursorPos=1}writeWithHeader(e,t){if(!this.terminal)return;if(!t||!e)return void this.write(e);let s;s="string"==typeof e||e instanceof String?e:e.toString("utf8"),1===this.cursorPos&&this.write(t);let i=!1;for(;s.endsWith("\n");)s=s.substr(0,s.length-1),i=!0;s=s.replace(/\n/g,"\n"+t),this.write(i?s+"\n":s)}write(e){if(this.terminal)if(this.isReady)try{this.unPrompt(),"string"==typeof e||e instanceof String||(e=e.toString("utf8")),e=e.replace(/[\r]?\n/g,"\r\n"),this.writeEmitter.fire(e),e.endsWith("\n")?this.doPrompt():this.promptTimer&&this.promptTimer.kill()}catch(e){console.error(`MyPtyTerminal: write: ${e}`)}else this.pendingWrites.push(e)}doPrompt(){this.didPrompt||this.suspendPrompting||(null===this.promptTimer?this.promptTimer=new o.ResettableTimeout((()=>{const e=this.options.prompt+this.curLine;e.length&&this.writeEmitter.fire(e),this.cursorPos=this.curLine.length+1,this.didPrompt=!0}),100):this.promptTimer.reset())}unPrompt(){if(this.didPrompt){const e=this.options.prompt.length+this.cursorPos-1;this.writeEmitter.fire(l.killEntireLine()),this.writeEmitter.fire(l.cursorBack(e)),this.writeEmitter.fire(this.curLine),this.didPrompt=!1}}dispose(){this.terminal&&(super.removeAllListeners(),this.disposing=!0,this.terminal.dispose(),this.terminal=null,delete u.oldOnes[this.options.name]),this.promptTimer&&(this.promptTimer.kill(),this.promptTimer=null)}}t.PtyTerminal=u,u.oldOnes={}},7561:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RTTTerminal=void 0;const i=s(6828),r=s(7147),n=s(3200),o=s(8477),a=s(4359),c=s(530);class h{get terminal(){return this.ptyTerm?this.ptyTerm.terminal:null}constructor(e,t,s){this.context=e,this.options=t,this.inUse=!0,this.hrTimer=new n.HrTimer,this.ptyOptions=this.createTermOptions(null),this.createTerminal(),this.sanitizeEncodings(this.options),this.connectToSource(s),this.openLogFile()}connectToSource(e){this.hrTimer=new n.HrTimer,this.binaryFormatter=new d(this.ptyTerm,this.options.encoding,this.options.scale),e.once("disconnected",(()=>{this.onClose()})),e.on("error",(e=>{const t=e.code;"ECONNRESET"===t||("ECONNREFUSED"===t?(0,o.magentaWrite)(`${e}\n.`,this.ptyTerm):(0,o.magentaWrite)(`${e}\n`,this.ptyTerm))})),e.on("data",(e=>{this.onData(e)})),e.connError?(this.source=e,(0,o.magentaWrite)(`${e.connError.message}\n`,this.ptyTerm)):e.connected?this.source=e:e.once("connected",(()=>{this.source=e}))}onClose(){if(this.source=null,this.inUse=!1,!this.options.noclear&&this.logFd>=0)try{r.closeSync(this.logFd)}catch(e){}this.logFd=-1,this.ptyTerm.write(c.RESET+"\n"),(0,o.magentaWrite)(`RTT connection on TCP port ${this.options.tcpPort} ended. Waiting for next connection...`,this.ptyTerm)}onData(e){try{this.logFd>=0&&r.writeSync(this.logFd,e),"binary"===this.options.type?this.binaryFormatter.writeBinary(e):this.writeNonBinary(e)}catch(e){(0,o.magentaWrite)(`Error writing data: ${e}\n`,this.ptyTerm)}}openLogFile(){if(this.logFd=-1,this.options.logfile)try{this.logFd=r.openSync(this.options.logfile,"w")}catch(e){const t=`Could not open file ${this.options.logfile} for writing. ${e.toString()}`;console.error(t),(0,o.magentaWrite)(t,this.ptyTerm)}}writeNonBinary(e){let t=0,s="";this.options.timestamp&&(s=this.hrTimer.createDateTimestamp()+" ");for(let i=1;i<e.length;i++){if(255!==e[i-1])continue;const r=e[i];(r>=48&&r<=57||r>=65&&r<=90)&&(i>=1&&this.ptyTerm.writeWithHeader(e.slice(t,i-1),s),this.ptyTerm.write(`<switch to vTerm#${String.fromCharCode(r)}>\n`),e=e.slice(i+1),i=0,t=0)}e.length>0&&this.ptyTerm.writeWithHeader(e,s)}createTermOptions(e){return{name:h.createTermName(this.options,e),prompt:this.createPrompt(),inputMode:this.options.inputmode||n.TerminalInputMode.COOKED}}createTerminal(){this.ptyTerm=new o.PtyTerminal(this.createTermOptions(null)),this.ptyTerm.on("data",this.sendData.bind(this)),this.ptyTerm.on("close",this.terminalClosed.bind(this))}createPrompt(){return this.options.noprompt?"":this.options.prompt||`RTT:${this.options.port}> `}static createTermName(e,t){const s="binary"===e.type?`enc:${u(e.encoding)}`:e.type,r=e.label||`RTT Ch:${e.port} ${s}`;let n=r,o=1;for(;i.window.terminals.findIndex((e=>e.name===n))>=0;){if(t===n)return t;n=`${r}-${o}`,o++}return n}terminalClosed(){this.dispose()}sendData(e){if(this.source)try{("string"==typeof e||e instanceof String)&&this.options.inputmode===n.TerminalInputMode.COOKED&&(e=Buffer.from(e,this.options.iencoding)),this.source.write(e)}catch(e){console.error(`RTTTerminal:sendData failed ${e}`)}}sanitizeEncodings(e){var t;e.encoding=u(e.encoding),e.iencoding=(t=(t=e.iencoding)?t.toLowerCase():"")in n.TextEncoding?t:n.TextEncoding.UTF8}tryReuse(e,t){if(!this.ptyTerm||!this.ptyTerm.terminal)return!1;this.sanitizeEncodings(this.options);const s=h.createTermName(e,this.ptyOptions.name);if(s===this.ptyOptions.name){if(this.inUse=!0,!this.options.noclear||this.options.type!==e.type){this.ptyTerm.clearTerminalBuffer();try{this.logFd>=0&&(r.closeSync(this.logFd),this.logFd=-1),this.openLogFile()}catch(e){(0,o.magentaWrite)(`Error: closing fille ${e}\n`,this.ptyTerm)}}return this.options=e,this.ptyOptions=this.createTermOptions(s),this.ptyTerm.resetOptions(this.ptyOptions),this.connectToSource(t),!0}return!1}dispose(){if(this.ptyTerm.dispose(),this.logFd>=0){try{r.closeSync(this.logFd)}catch(e){}this.logFd=-1}}}function l(e,t,s=" "){return e.length>=t?e:e=s.repeat(t-e.length)+e}function u(e){return(e=e?e.toLowerCase():"")in n.BinaryEncoding||(e=n.BinaryEncoding.UNSIGNED),e}t.RTTTerminal=h;class d{constructor(e,t,s){this.ptyTerm=e,this.encoding=t,this.scale=s,this.bytesNeeded=4,this.buffer=Buffer.alloc(4),this.bytesRead=0,this.hrTimer=new n.HrTimer,this.bytesRead=0,this.encoding=u(t),this.scale=s||1}writeBinary(e){const t=Buffer.from(e),s=this.hrTimer.createDateTimestamp();for(const e of t)if(this.buffer[this.bytesRead]=e,this.bytesRead=this.bytesRead+1,this.bytesRead===this.bytesNeeded){let e="";for(const t of this.buffer)e+=t<=32||t>=127&&t<=159?".":String.fromCharCode(t);this.buffer.toString();const t=l(this.buffer.toString("hex"),8,"0"),n=(i=this.buffer,r=this.encoding,a.decoders[r]?a.decoders[r](i):a.decoders.unsigned(i)),o=l(`${n}`,12),c=l(""+n*this.scale,12);this.ptyTerm.write(`${s} ${e}  0x${t} - ${o} - ${c}\n`),this.bytesRead=0}var i,r}}},5287:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GDBServerConsole=t.GDBServerConsoleInstance=void 0;const i=s(1808),r=s(6828),n=s(7147),o=s(2037),a=s(1017),c=s(8477),h=s(3200);let l=-1;class u{constructor(){this.ptyTerm=null,this.toBackend=null,this.ptyOptions={name:"gdb-server",prompt:"",inputMode:h.TerminalInputMode.COOKED}}static newOrExistingConsole(){let e=u.allConsoles.find((e=>e.isClosed()));return e||(e=new u,u.allConsoles.push(e),e)}static disposeAll(){const e=u.allConsoles;u.allConsoles=[];for(const t of e)t.toBackend&&(t.toBackend.destroy(),t.toBackend=null),t.ptyTerm&&t.ptyTerm.dispose()}newBackendConnection(e){this.createAndShowTerminal(),this.toBackend=e,this.ptyTerm.resume(),this.clearTerminal(),this.debugMsg('onBackendConnect: gdb-server session connected. You can switch to "DEBUG CONSOLE" to see GDB interactions.'),e.setKeepAlive(!0),e.on("close",(()=>{this.debugMsg("onBackendConnect: gdb-server session closed"),(0,c.magentaWrite)("GDB server session ended. This terminal will be reused, waiting for next session to start...",this.ptyTerm),this.toBackend=null,this.ptyTerm.pause()})),e.on("data",(e=>{this.ptyTerm.write(e),this.logData(e)})),e.on("error",(e=>{this.debugMsg(`GDBServerConsole: onBackendConnect: gdb-server program client error ${e}`),this.toBackend=null,this.ptyTerm.pause()}))}isClosed(){return null===this.toBackend}createAndShowTerminal(){this.ptyTerm||this.setupTerminal()}clearTerminal(){this.ptyTerm.clearTerminalBuffer()}setupTerminal(){this.ptyOptions.name=u.createTermName(this.ptyOptions.name,null),this.ptyTerm=new c.PtyTerminal(this.ptyOptions),this.ptyTerm.terminal.show(),this.ptyTerm.on("close",(()=>{this.onTerminalClosed()})),this.ptyTerm.on("data",(e=>{this.sendToBackend(e)})),null===this.toBackend?((0,c.magentaWrite)("Waiting for gdb server to start...",this.ptyTerm),this.ptyTerm.pause()):((0,c.magentaWrite)("Resuming connection to gdb server...\n",this.ptyTerm),this.ptyTerm.resume())}onTerminalClosed(){this.ptyTerm=null,this.toBackend&&setTimeout((()=>{r.window.showInformationMessage("gdb-server terminal closed unexpectedly. Trying to reopen it"),this.setupTerminal()}),10)}sendToBackend(e){this.toBackend&&(this.toBackend.write(e.toString()),this.toBackend.uncork())}logData(e){d.logDataStatic(this.ptyTerm,e)}debugMsg(e){d.debugMsgStatic(this.ptyTerm,e)}static createTermName(e,t){let s=e,i=1;for(;r.window.terminals.findIndex((e=>e.name===s))>=0;){if(t===s)return t;s=`${e}-${i}`,i+=1}return s}}t.GDBServerConsoleInstance=u,u.allConsoles=[];class d{constructor(e,t=""){this.context=e,this.logFileName=t,this.toBackendServer=null,this.toBackend=null,this.toBackendPort=-1,this.logFName="",this.allConsoles=[],this.createLogFile(t)}createLogFile(e){this.logFName=e;const t=!!this.logFName;if(l>=0)try{n.closeSync(l)}finally{l=-1}try{if(this.logFName){const e=a.dirname(this.logFName);e&&n.mkdirSync(e,{recursive:!0}),this.logFName=this.logFName.replace("${PID}",process.pid.toString())}else{const e=o.tmpdir();this.logFName=`${e}/gdb-server-console-${process.pid}.log`}l=n.openSync(this.logFName,"w")}catch(e){t&&r.window.showErrorMessage(`Could not open log file: ${this.logFName}\n${e}`)}}isServerAlive(){return null!==this.toBackendServer}static debugMsgStatic(e,t){try{t=`[${(new Date).toISOString()}] SERVER CONSOLE DEBUG: `+t,e&&(t+=t.endsWith("\n")?"":"\n",(0,c.magentaWrite)(t,e)),d.logDataStatic(e,t)}finally{}}startServer(){return new Promise(((e,t)=>{(0,h.getAnyFreePort)(55878).then((s=>{this.toBackendPort=s;const r=i.createServer(this.onBackendConnect.bind(this));r.listen(this.toBackendPort,"127.0.0.1",(()=>{this.toBackendServer=r,d.BackendPort=this.toBackendPort,e()})),r.on("error",(e=>{console.error(e),t(e)})),r.on("close",(()=>{this.toBackendServer=null}))}))}))}onBackendConnect(e){u.newOrExistingConsole().newBackendConnection(e)}static logDataStatic(e,t){try{l>=0&&(e&&e.isReady||(new Date).toISOString(),n.writeFileSync(l,t.toString()),n.fdatasyncSync(l))}catch(e){l=-1}}dispose(){u.disposeAll()}}t.GDBServerConsole=d,d.BackendPort=-1},1619:(e,t)=>{"use strict";var s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TimestampType=t.PacketType=void 0,(i=t.PacketType||(t.PacketType={}))[i.HARDWARE=1]="HARDWARE",i[i.SOFTWARE=2]="SOFTWARE",i[i.TIMESTAMP=3]="TIMESTAMP",(s=t.TimestampType||(t.TimestampType={}))[s.CURRENT=0]="CURRENT",s[s.DELAYED=1]="DELAYED",s[s.EVENT_DELAYED=2]="EVENT_DELAYED",s[s.EVENT_TIME_DELAYED=3]="EVENT_TIME_DELAYED"},8904:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RTTCore=t.SWOCore=t.SWORTTCoreBase=void 0;const i=s(6828),r=s(1017),n=s(7147),o=s(29),a=s(8376),c=s(1887),h=s(8125),l=s(2361),u=s(1619),d=s(4359),p=s(3200),f=s(473);var g;!function(e){e[e.IDLE=1]="IDLE",e[e.UNSYNCED=2]="UNSYNCED",e[e.TIMESTAMP=3]="TIMESTAMP",e[e.HARDWARE_EVENT=4]="HARDWARE_EVENT",e[e.SOFTWARE_EVENT=5]="SOFTWARE_EVENT",e[e.RESERVED=6]="RESERVED"}(g||(g={}));class m extends l.EventEmitter{constructor(){super(),this.syncBuffer=new f(6),this.status=g.IDLE,this.rxCount=0,this.timestamp=0,this.syncBuffer.enq(255),this.syncBuffer.enq(255),this.syncBuffer.enq(255),this.syncBuffer.enq(255),this.syncBuffer.enq(255),this.syncBuffer.enq(255)}resetRxPacket(e,t,s){this.rxBuffer=Buffer.alloc(t,0),this.rxTargetLength=t,this.rxPacketType=s,this.rxPort=e,this.rxCount=0}rxWriteByte(e){return this.rxCount<this.rxBuffer.length&&(this.rxBuffer.writeUInt8(e,this.rxCount),this.rxCount++),this.rxCount===this.rxTargetLength}getRxPacket(){return{type:this.rxPacketType,port:this.rxPort,size:this.rxCount,data:this.rxBuffer}}checkSync(e){this.syncBuffer.enq(e);const t=this.syncBuffer.peekN(6);return 128===t[5]&&0===t[4]&&0===t[3]&&0===t[2]&&0===t[1]&&0===t[0]}processByte(e){let t=this.status;if(this.checkSync(e))t=g.IDLE,this.emit("synchronized");else switch(this.status){case g.IDLE:if(0===e)break;if(112===e)this.emit("overflow");else if(0==(15&e))this.timestamp=0,this.resetRxPacket(-1,5,u.PacketType.TIMESTAMP),this.rxWriteByte(e),128&e?t=g.TIMESTAMP:this.emit("timestamp",this.getRxPacket());else if(0!=(3&e)){let s=3&e;3===s&&(s=4);const i=(248&e)>>>3;0!=(4&e)?(this.resetRxPacket(i,s,u.PacketType.HARDWARE),t=g.HARDWARE_EVENT):(this.resetRxPacket(i,s,u.PacketType.SOFTWARE),t=g.SOFTWARE_EVENT)}else t=g.RESERVED,this.emit("lost-synchronization");break;case g.TIMESTAMP:const s=this.rxWriteByte(e);0==(128&e)?(this.emit("timestamp",this.getRxPacket()),t=g.IDLE):s&&(t=g.IDLE);break;case g.UNSYNCED:break;case g.SOFTWARE_EVENT:this.rxWriteByte(e)&&(this.emit("software-event",this.getRxPacket()),t=g.IDLE);break;case g.HARDWARE_EVENT:this.rxWriteByte(e)&&(this.emit("hardware-event",this.getRxPacket()),t=g.IDLE);break;case g.RESERVED:0==(128&e)&&(t=g.IDLE)}this.status=t}}class b{constructor(e,t){this.extensionPath=e,this.graphs=t,this.currentStatus="stopped",this.processors=[],this.lastId=0,this.now=new Date;const s=this.now.toTimeString(),n={preserveFocus:!0,viewColumn:i.ViewColumn.Beside},o={retainContextWhenHidden:!0,enableFindWidget:!1,enableCommandUris:!1,enableScripts:!0,localResourceRoots:[i.Uri.file(r.join(e,"dist"))]},a=`SWO/RTT Graphs [${s}]`;this.viewPanel=i.window.createWebviewPanel("cortex-debug.grapher",a,n,o),this.viewPanel.webview.onDidReceiveMessage((e=>{this.onMessage(e)})),this.viewPanel.webview.html=this.getHTML()}getHTML(){const e=i.Uri.file(r.join(this.extensionPath,"dist","grapher.bundle.js")),t=this.viewPanel.webview.asWebviewUri(e),s=(0,p.getNonce)();let o=n.readFileSync(r.join(this.extensionPath,"resources","grapher.html"),{encoding:"utf8",flag:"r"});return o=o.replace(/\$\{nonce\}/g,s).replace(/\$\{scriptUri\}/g,t.toString()),o}registerProcessors(e){e.on("message",this.sendMessage.bind(this)),this.processors.push(e)}clearProcessors(){this.processors=[]}sendMessage(e){e.timestamp=(new Date).getTime(),this.viewPanel.webview.postMessage(e)}onMessage(e){if("init"===e.type){const e={type:"configure",graphs:this.graphs,status:this.currentStatus};this.viewPanel.webview.postMessage(e)}}}class v{constructor(){this.webview=null}debugSessionTerminated(){if(this.webview){const e={type:"status",status:"terminated"};this.webview.sendMessage(e)}}debugStopped(){if(this.webview){const e={type:"status",status:"stopped"};this.webview.sendMessage(e)}}debugContinued(){if(this.webview){const e={type:"status",status:"continued"};this.webview.sendMessage(e)}}}t.SWORTTCoreBase=v,t.SWOCore=class extends v{constructor(e,t,s,r){super(),this.session=e,this.source=t,this.processors=[],this.connected=!1,this.itmDecoder=new m,e.customRequest("load-function-symbols").then((e=>{this.functionSymbols=e.functionSymbols}),(e=>{this.functionSymbols=[]})),this.source.connected?this.connected=!0:this.source.on("connected",(()=>{this.connected=!0})),this.source.on("data",this.handleData.bind(this)),this.source.on("disconnected",this.handleDisconnected.bind(this)),s.graphConfig.length>=1&&(this.webview=new b(r,s.graphConfig)),s.swoConfig.decoders.forEach((e=>{let t;switch(e.type){case"console":this.processors.push(new o.SWOConsoleProcessor(e));break;case"binary":this.processors.push(new a.SWOBinaryProcessor(e));break;case"graph":t=new c.SWORTTGraphProcessor(e),this.webview&&this.webview.registerProcessors(t),this.processors.push(t);break;case"advanced":try{t=new h.SWORTTAdvancedProcessor(e),this.webview&&this.webview.registerProcessors(t),this.processors.push(t)}catch(e){i.window.showErrorMessage(`Error Initializing Advanced Decoder: ${e.toString()}`)}}})),this.itmDecoder.on("software-event",this.processPacket.bind(this)),this.itmDecoder.on("hardware-event",this.processPacket.bind(this)),this.itmDecoder.on("synchronized",this.synchronized.bind(this)),this.itmDecoder.on("lost-synchronization",this.lostSynchronization.bind(this)),this.itmDecoder.on("timestamp",this.processTimestampPacket.bind(this)),this.itmDecoder.on("overflow",this.overflow.bind(this))}handleDisconnected(e){for(const e of this.processors)e.close();this.processors=[],this.connected=!1}handleData(e){for(let t=0;t<e.length;t++){const s=e.readUInt8(t);this.itmDecoder.processByte(s)}}processPacket(e){if(e.type===u.PacketType.SOFTWARE)this.processors.forEach((t=>t.softwareEvent(e)));else if(e.type===u.PacketType.HARDWARE)if(this.processors.forEach((t=>t.hardwareEvent(e))),2===e.port){if(this.webview){const t=(0,d.parseUnsigned)(e.data),s=this.getFunctionAtAddress(t),i={type:"program-counter",counter:t,function:s?s.name:"**Unknown**"};this.webview.sendMessage(i)}}else console.log("Received Other Hardware Packet: ",e)}processTimestampPacket(e){let t=0;for(let s=1;s<e.size;s++)t<<=7,t|=127&e.data.readUInt8(s)}overflow(){}lostSynchronization(){this.processors.forEach((e=>e.lostSynchronization()))}synchronized(){this.processors.forEach((e=>e.synchronized()))}calculatePortMask(e){let t=0;return e.forEach((e=>{if("advanced"===e.type){const s=e;for(const e of s.ports)t=(t|1<<e)>>>0}else t=(t|1<<e.port)>>>0})),t}dispose(){this.processors.forEach((e=>e.dispose())),this.processors=null,this.webview&&this.webview.clearProcessors(),this.connected=!1}getFunctionAtAddress(e){const t=this.functionSymbols.filter((t=>t.address<=e&&t.address+t.length>e));if(t&&0!==t.length)return t[0]}};class y extends l.EventEmitter{constructor(e,t,s){super(),this.source=e,this.port=t,this.bytesNeeded=s,this.connected=!1,this.bytesRead=0,this.buffer=Buffer.alloc(s),this.source.connected?this.connected=!0:this.source.on("connected",(()=>{this.connected=!0})),this.source.on("data",this.onData.bind(this)),this.source.on("disconnected",(()=>{this.connected=!1}))}onData(e){const t="string"==typeof e?Buffer.from(e):e;for(const e of t)if(this.buffer[this.bytesRead]=e,this.bytesRead=this.bytesRead+1,this.bytesRead===this.bytesNeeded){const e={type:u.PacketType.SOFTWARE,port:this.port,size:this.bytesRead,data:Buffer.from(this.buffer)};this.emit("software-event",e),this.bytesRead=0}}dispose(){}}t.RTTCore=class extends v{constructor(e,t,s){super(),this.sources=e,this.processors=[],this.decoders=[],t.graphConfig.length>=1&&(this.webview=new b(s,t.graphConfig)),t.rttConfig.decoders.forEach((e=>{switch(e.type){case"graph":this.addRTTDecoder(this.sources[e.port]);const t=new c.SWORTTGraphProcessor(e);this.webview&&this.webview.registerProcessors(t),this.processors.push(t);break;case"advanced":try{for(const t of e.ports)this.addRTTDecoder(this.sources[t]);const t=new h.SWORTTAdvancedProcessor(e);this.webview&&this.webview.registerProcessors(t),this.processors.push(t);break}catch(e){i.window.showErrorMessage(`Error Initializing Advanced Decoder: ${e.toString()}`)}}}))}addRTTDecoder(e){if(e){const t=new y(e,e.channel,4);t.on("software-event",this.onPacket.bind(this)),this.decoders.push(t)}else console.error("Null source?")}onPacket(e){for(const t of this.processors)t.softwareEvent(e)}dispose(){this.processors.forEach((e=>e.dispose())),this.processors=null,this.webview&&this.webview.clearProcessors()}}},8125:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SWORTTAdvancedProcessor=void 0;const i=s(6828),r=s(2361),n=require;class o extends r.EventEmitter{constructor(e){super(),this.format="advanced",this.ports=[];const t=e.decoder,s=n.resolve(t);n.cache[s]&&delete n.cache[s];const r=n(t);if(!r||!r.default)throw new Error(`Unable to load decoder class from: ${e.decoder}`);{const t=r.default;try{this.decoder=new t,this.decoder.init(e,this.displayOutput.bind(this),this.graphData.bind(this))}catch(e){throw new Error(`Error instantiating decoder class: ${e.toString()}`)}this.ports=e.ports,this.output=i.window.createOutputChannel(`SWO: ${this.decoder.outputLabel()||""} [type: ${this.decoder.typeName()}]`)}}softwareEvent(e){-1!==this.ports.indexOf(e.port)&&this.decoder.softwareEvent(e.port,e.data)}hardwareEvent(e){}synchronized(){this.decoder.synchronized()}lostSynchronization(){this.decoder.lostSynchronization()}displayOutput(e,t=!0){this.output.append(e)}graphData(e,t){const s={type:"data",data:e,id:t};this.emit("data",s)}dispose(){this.output.dispose(),this.close()}close(){}}t.SWORTTAdvancedProcessor=o},8376:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SWOBinaryProcessor=void 0;const i=s(6828),r=s(7147),n=s(4359),o=s(8477),a=s(3200);t.SWOBinaryProcessor=class{constructor(e){if(this.format="binary",this.useTerminal=!0,this.ptyTerm=null,this.hrTimer=new a.HrTimer,this.logFd=-1,this.port=e.port,this.scale=e.scale||1,this.encoding=(e.encoding||"unsigned").replace(".","_"),this.useTerminal=!("useTerminal"in e)||e.useTerminal,this.useTerminal?this.createVSCodeTerminal(e):this.createVSCodeChannel(e),e.logfile){this.logfile=e.logfile;try{this.logFd=r.openSync(e.logfile,"w")}catch(t){const s=`Could not open file ${e.logfile} for writing. ${t.toString()}`;i.window.showErrorMessage(s)}}}createVSCodeTerminal(e){const t={name:this.createName(e),prompt:"",inputMode:a.TerminalInputMode.DISABLED};this.ptyTerm=o.PtyTerminal.findExisting(t.name),this.ptyTerm?this.ptyTerm.clearTerminalBuffer():(this.ptyTerm=new o.PtyTerminal(t),this.ptyTerm.terminal.show())}createVSCodeChannel(e){const t=this.createName(e);this.output=i.window.createOutputChannel(t)}createName(e){return`SWO:${e.label||""}[port:${this.port}, enc:${this.encoding}]`}softwareEvent(e){if(e.port!==this.port)return;new Date;const t=e.data.toString("hex"),s=(o=e.data,a=this.encoding,n.decoders[a]?n.decoders[a](o):n.decoders.unsigned(o));var o,a;const c=s*this.scale,h=`${this.hrTimer.createDateTimestamp()} ${t} - ${s} - ${c}`;if(this.useTerminal?this.ptyTerm.write(h+"\n"):this.output.appendLine(h),this.logFd>=0)try{r.writeSync(this.logFd,e.data)}catch(e){const t=`Could not write to file ${this.logfile} for writing. ${e.toString()}`;i.window.showErrorMessage(t);try{r.closeSync(this.logFd)}catch(e){}this.logFd=-1}}hardwareEvent(e){}synchronized(){}lostSynchronization(){}dispose(){this.output&&(this.output.dispose(),this.output=null),this.ptyTerm&&(this.ptyTerm.dispose(),this.ptyTerm=null),this.close()}close(){this.logFd>=0&&(r.closeSync(this.logFd),this.logFd=-1)}}},29:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SWOConsoleProcessor=void 0;const i=s(6828),r=s(7147),n=s(8477),o=s(3200);t.SWOConsoleProcessor=class{constructor(e){if(this.position=0,this.timeout=null,this.format="console",this.showOutputTimer=null,this.useTerminal=!0,this.ptyTerm=null,this.timestamp=!1,this.hrTimer=new o.HrTimer,this.logFd=-1,this.port=e.port,this.encoding=e.encoding||o.TextEncoding.UTF8,this.timestamp=!!e.timestamp,this.useTerminal=!("useTerminal"in e)||e.useTerminal,this.useTerminal?this.createVSCodeTerminal(e):this.createVSCodeChanne(e),e.logfile){this.logfile=e.logfile;try{this.logFd=r.openSync(e.logfile,"w")}catch(t){const s=`Could not open file ${e.logfile} for writing. ${t.toString()}`;i.window.showErrorMessage(s)}}}createName(e){const t=`SWO:${e.label||""}[port:${this.port}`;return this.useTerminal?t+"] console":t+", type: console]"}createVSCodeTerminal(e){const t={name:this.createName(e),prompt:"",inputMode:o.TerminalInputMode.DISABLED};this.ptyTerm=n.PtyTerminal.findExisting(t.name),this.ptyTerm?this.ptyTerm.clearTerminalBuffer():(this.ptyTerm=new n.PtyTerminal(t),this.ptyTerm.on("close",(()=>{this.ptyTerm=null})),e.showOnStartup&&this.ptyTerm.terminal.show())}createVSCodeChanne(e){this.output=i.window.createOutputChannel(this.createName(e)),e.showOnStartup&&(this.showOutputTimer=setTimeout((()=>{this.output.show(!0),this.showOutputTimer=null}),1))}pushOutput(e){e&&(this.useTerminal?this.ptyTerm&&this.ptyTerm.write(e):this.output.append(e))}createDateHeaderUs(){return this.timestamp?this.hrTimer.createDateTimestamp()+" ":""}softwareEvent(e){if(e.port!==this.port)return;const t=e.data.toString(this.encoding);if(this.logFd>=0)try{r.writeSync(this.logFd,t)}catch(e){const t=`Could not write to file ${this.logfile} for writing. ${e.toString()}`;i.window.showErrorMessage(t);try{r.closeSync(this.logFd)}catch(e){}this.logFd=-1}for(const e of t)this.timeout&&(clearTimeout(this.timeout),this.timeout=null),"\n"!==e?(0===this.position&&this.pushOutput(this.createDateHeaderUs()),this.pushOutput(e),this.position+=1,this.timestamp&&this.position>0&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.pushOutput("\n"),this.position=0,this.timeout=null}),5e3))):(this.pushOutput("\n"),this.position=0)}hardwareEvent(e){}synchronized(){}lostSynchronization(){}dispose(){this.output&&(this.output.dispose(),this.output=null),this.ptyTerm&&(this.ptyTerm.dispose(),this.ptyTerm=null),this.close()}close(){this.logFd>=0&&(r.closeSync(this.logFd),this.logFd=-1)}}},1887:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SWORTTGraphProcessor=void 0;const i=s(6828),r=s(7147),n=s(4359),o=s(2361);class a extends o.EventEmitter{constructor(e){if(super(),this.format="graph",this.logFd=-1,this.port=e.port,this.encoding=e.encoding||"unsigned",this.scale=e.scale||1,this.graphId=e.graphId,e.logfile){this.logfile=e.logfile;try{this.logFd=r.openSync(e.logfile,"w")}catch(t){const s=`Could not open file ${e.logfile} for writing. ${t.toString()}`;i.window.showErrorMessage(s)}}}softwareEvent(e){if(e.port!==this.port)return;var t,s;e.data.toString("hex");const o={type:"data",data:(t=e.data,s=this.encoding,(n.decoders[s]?n.decoders[s](t):n.decoders.unsigned(t))*this.scale),id:this.graphId};if(this.emit("message",o),this.logFd>=0)try{r.writeSync(this.logFd,e.data)}catch(e){const t=`Could not write to file ${this.logfile} for writing. ${e.toString()}`;i.window.showErrorMessage(t);try{r.closeSync(this.logFd)}catch(e){}this.logFd=-1}}hardwareEvent(e){}synchronized(){}lostSynchronization(){}dispose(){this.close()}close(){this.logFd>=0&&(r.closeSync(this.logFd),this.logFd=-1)}}t.SWORTTGraphProcessor=a},4359:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decoders=t.parseUQ=t.parseQ=t.parseUnsigned=t.parseSigned=t.parseFloat=void 0;const i=s(291),r=(new i.Parser).endianess("little").int32("value"),n=(new i.Parser).endianess("little").uint32("value"),o=(new i.Parser).endianess("little").floatle("value");function a(e){if(e.length<4){const t=Buffer.alloc(4);e.copy(t),e=t}return o.parse(e).value}function c(e){if(e.length<4){const t=Buffer.alloc(4);e.copy(t),e=t}return r.parse(e).value}function h(e){if(e.length<4){const t=Buffer.alloc(4);e.copy(t),e=t}return n.parse(e).value}function l(e,t,s){const i=c(e);return(i>>s)+(i&t)/t}function u(e,t,s){const i=h(e);return(i>>>s)+(i&t)/t}t.parseFloat=a,t.parseSigned=c,t.parseUnsigned=h,t.parseQ=l,t.parseUQ=u,t.decoders={signed:c,float:a,Q8_24:e=>l(e,16777215,24),Q16_16:e=>l(e,65535,16),Q24_8:e=>l(e,255,8),UQ8_24:e=>u(e,16777215,24),UQ16_16:e=>u(e,65535,16),UQ24_8:e=>u(e,255,8),unsigned:h}},1339:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FifoSWOSource=void 0;const i=s(7147),r=s(2361);class n extends r.EventEmitter{constructor(e){super(),this.SWOPath=e,this.connected=!1,this.stream=i.createReadStream(this.SWOPath,{highWaterMark:128,encoding:null,autoClose:!1}),this.stream.on("data",(e=>{this.emit("data",e)})),this.stream.on("close",(e=>{this.emit("disconnected")})),this.connected=!0}dispose(){this.stream.close()}}t.FifoSWOSource=n},3624:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSWOSource=void 0;const i=s(7147),r=s(6828),n=s(2361);class o extends n.EventEmitter{constructor(e,t=500){super(),this.SWOPath=e,this.timeout=t,this.connected=!1,this.fd=null,this.interval=null;const s=Date.now();!function n(o=1){t<=0||i.existsSync(e)?i.open(e,"r",((t,s)=>{t?r.window.showWarningMessage(`Unable to open path: ${e} - Unable to read SWO data.`):(this.fd=s,this.interval=setInterval(this.read.bind(this),2),this.connected=!0,this.emit("connected"))})):t>0&&(Date.now()-s>=t?r.window.showWarningMessage(`SWO File ${e} does not exist even after timeout of ${t}ms.`):setTimeout(n,Math.min(10,o+1)))}(1)}read(){const e=Buffer.alloc(64);i.read(this.fd,e,0,64,null,((e,t,s)=>{t>0&&this.emit("data",s.slice(0,t))}))}dispose(){this.emit("disconnected"),clearInterval(this.interval),i.closeSync(this.fd)}}t.FileSWOSource=o},1325:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SerialSWOSource=exports.findSerialPortModule=exports.findSerialPortModuleHelp=void 0;const events_1=__webpack_require__(2361),fs=__webpack_require__(7147),vscode=__webpack_require__(6828),path=__webpack_require__(1017);function findSerialPortModuleHelp(e){return`Node/npm module "serialport" not found. You can install this in one of two ways\n1. Install "Serial Monitor" VSCode extension. https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-serial-monitor\n2. or, you can compile the serialport module locally on your computer. Follow these instructions on a shell prompt\n    cd ${e}/binary_modules\n    bash ./build.sh ${process.versions.electron}\nIf you chose to compile locally, make sure NodeJS is installed on your system. Visit https://nodejs.org/en/download/`}function findSerialPortModule(e,t){const s=[],i=path.normalize(path.join(e,"binary_modules","electron-"+process.versions.electron,"node_modules"));if(fs.existsSync(i)&&fs.existsSync(path.join(i,"serialport")))s.push(i);else{const e="ms-vscode.vscode-serial-monitor",t=vscode.extensions.getExtension(e);t&&(s.push(path.join(t.extensionPath,"dist","node_modules")),s.push(path.join(t.extensionPath,"node_modules")))}let r=!1;for(const e of s)fs.existsSync(path.join(e,"serialport"))&&(-1===t.paths.indexOf(e)&&(console.log(`Adding ${e} to module search path`),t.paths.push(e)),r=!0);return r}exports.findSerialPortModuleHelp=findSerialPortModuleHelp,exports.findSerialPortModule=findSerialPortModule;class SerialSWOSource extends events_1.EventEmitter{constructor(device,baudRate,extensionPath){super(),this.device=device,this.baudRate=baudRate,this.serialPort=null,this.connected=!1;const mainModule=eval("require.main"),added=findSerialPortModule(extensionPath,mainModule);if(!added)return void vscode.window.showErrorMessage(findSerialPortModuleHelp(extensionPath));let SerialPort;try{if(SerialPort=mainModule.require("serialport").SerialPort,!SerialPort)return void vscode.window.showErrorMessage(findSerialPortModuleHelp(extensionPath))}catch(e){return void vscode.window.showErrorMessage(findSerialPortModuleHelp(extensionPath))}this.serialPort=new SerialPort(device,{baudRate,autoOpen:!1}),this.serialPort.on("data",(e=>{this.emit("data",e)})),this.serialPort.on("error",(e=>{vscode.window.showErrorMessage(`Unable to open serial port: ${device} - ${e.toString()}`)})),this.serialPort.on("open",(()=>{this.connected=!0,this.emit("connected")})),this.serialPort.open()}dispose(){this.serialPort&&(this.serialPort.close(),this.emit("disconnected"))}}exports.SerialSWOSource=SerialSWOSource},1337:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeMicroSocketSource=t.JLinkSocketRTTSource=t.SocketRTTSource=t.SocketSWOSource=void 0;const i=s(2361),r=s(1808),n=s(3200),o=s(3837);class a extends i.EventEmitter{constructor(e){super(),this.tcpPort=e,this.client=null,this.connected=!1,this.connError=null,this.nTries=1}processData(e){this.emit("data",e)}start(e=3e5){let t=!0;const s=Date.now(),i=(0,n.parseHostPort)(this.tcpPort);return new Promise(((n,o)=>{this.timer=setInterval((()=>{t&&(t=!1,this.client=r.createConnection(i,(()=>{clearInterval(this.timer),this.timer=void 0,this.connected=!0,this.emit("connected"),console.log(`Connected SWO/RTT port ${this.tcpPort}, nTries = ${this.nTries}\n`),n()})),this.client.on("data",(e=>{this.processData(e)})),this.client.on("end",(()=>{this.dispose()})),this.client.on("close",(()=>{this.disposeClient()})),this.client.on("error",(i=>{const r=i.code;"ECONNRESET"===r&&this.connected?this.dispose():"ECONNREFUSED"===r?Date.now()-s>e?(i.message=`Error: Failed to connect to port ${this.tcpPort} ${r}`,console.log(`Failed ECONNREFUSED SWO/RTT port ${this.tcpPort}, nTries = ${this.nTries}`),this.connError=i,this.emit("error",i),o(i),this.dispose()):(this.nTries%10==0&&console.log(`Trying SWO/RTT port ${this.tcpPort}, nTries = ${this.nTries}`),t=!0,this.nTries++,this.disposeClient()):(i.message=`Error: Ignored unknown error on port ${this.tcpPort} ${r}`,this.emit("error",i),this.connected||(this.connError=i,o(i)),this.dispose())})))}),250)}))}disposeClient(){try{if(this.connected&&(this.connected=!1,this.emit("disconnected")),this.client){const e=this.client;this.client=null,e.destroy()}}catch(e){console.log(`Socked destroy error ${e}`)}}dispose(){this.timer&&(clearInterval(this.timer),this.timer=void 0),this.disposeClient()}}t.SocketSWOSource=a;class c extends a{constructor(e,t){super(e),this.channel=t}write(e){try{this.client.write(e)}catch(e){throw e}}}var h,l;t.SocketRTTSource=c,t.JLinkSocketRTTSource=class extends c{constructor(e,t){super(e,t),this.channel=t,this.on("connected",(()=>{this.write(`$$SEGGER_TELNET_ConfigStr=RTTCh;${t}$$`)}))}},function(e){e[e.TX_COMMAND=0]="TX_COMMAND",e[e.RX_COMMAND=1]="RX_COMMAND",e[e.RX_STREAM=7]="RX_STREAM"}(h||(h={}));class u{static get headerLength(){return 32}static fromValues(e,t,s){const i=new u;return i.type=e,i.sequence=t,i.dataLength=s,i}static fromBuffer(e){const t=new u,s=new Uint32Array(8);for(let t=0;t<8;t++)s[t]=e.readUInt32BE(4*t);if(1!==s[0]||1!==s[1])throw new Error("Invalid PeMicro header start");t.type=s[2],t.sequence=s[3];const i=s[4];if(i<u.headerLength)throw new Error("Message length smaller than header");if(t.dataLength=i-u.headerLength,0!==s[5]||0!==s[6]||0!==s[7])throw new Error("Invalid PeMicro header end");return t}getTxString(){const e=Buffer.alloc(32);return e.writeUInt32BE(1,0),e.writeUInt32BE(1,4),e.writeUInt32BE(h.TX_COMMAND,8),e.writeUInt32BE(this.sequence,12),e.writeUInt32BE(u.headerLength+this.dataLength,16),e.writeUInt32BE(0,20),e.writeUInt32BE(0,24),e.writeUInt32BE(0,28),(new o.TextDecoder).decode(e)}}!function(e){e[e.INIT=1]="INIT",e[e.CREATE_PIPE=2]="CREATE_PIPE",e[e.CONFIGURE_SWO=3]="CONFIGURE_SWO",e[e.RESUME_PIPE=4]="RESUME_PIPE",e[e.RECEIVING=5]="RECEIVING",e[e.RESERVED=6]="RESERVED"}(l||(l={})),t.PeMicroSocketSource=class extends a{createPipe(){this.write(JSON.stringify({control:{"00000001":{command:"createPipe",apiversion:"1"}}}))}configureSWO(){this.write(JSON.stringify({control:{"00000001":{command:"configureSWOStream",streamEnabled:"true",itmStimulusPortEnable:"-1",postCNTEventEnable:"false",pcSamplingEnable:"false",postCNTClockRate:"false",localTimestamps:"false",localTSClock:"false",localTSPrescale:"0",globalTSFrequency:"0",CPI:"false",SLEEP:"false",FOLD:"false",EXCOVER:"false",LSU:"false",EXCTRC:"false",SYNC:"0"}}}))}resumePipe(){this.write(JSON.stringify({control:{"00000001":{command:"resumePipe"}}}))}constructor(e){super(e),this.sequence=0,this.state=l.INIT,this.on("connected",(()=>{this.state=l.CREATE_PIPE,this.createPipe()}))}processData(e){let t=0;for(;e.length-t>=u.headerLength;)try{const s=u.fromBuffer(e.subarray(t,Math.min(t+u.headerLength,e.length)));switch(t+=u.headerLength,this.state){case l.CREATE_PIPE:s.type===h.RX_COMMAND&&0===JSON.parse(e.subarray(t,Math.min(t+s.dataLength,e.length)).toString()).control["00000001"].result&&(this.configureSWO(),this.state=l.CONFIGURE_SWO);break;case l.CONFIGURE_SWO:s.type===h.RX_COMMAND&&0===JSON.parse(e.subarray(t,Math.min(t+s.dataLength,e.length)).toString()).control["00000001"].result&&(this.resumePipe(),this.state=l.RESUME_PIPE);break;case l.RESUME_PIPE:s.type===h.RX_COMMAND&&0===JSON.parse(e.subarray(t,Math.min(t+s.dataLength,e.length)).toString()).control["00000001"].result&&(this.state=l.RECEIVING);break;case l.RECEIVING:s.type===h.RX_STREAM&&this.emit("data",e.subarray(t,Math.min(t+s.dataLength,e.length)))}t+=s.dataLength}catch(e){console.log(e.message)}}write(e){try{const t=u.fromValues(h.TX_COMMAND,this.sequence,e.length);this.client.write(t.getTxString()+e),this.sequence=this.sequence+1}catch(e){throw e}}}},2942:(e,t)=>{"use strict";function s(e,t){let s=0;const i=e+t-1;for(let t=e;t<=i;t++)s=(s|1<<t)>>>0;return s}function i(e){return/^0b([01]+)$/i.test(e)?parseInt(e.substring(2),2):/^0x([0-9a-f]+)$/i.test(e)?parseInt(e.substring(2),16):/^[0-9]+/i.test(e)?parseInt(e,10):/^#[0-1]+/i.test(e)?parseInt(e.substring(1),2):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.parseDimIndex=t.parseInteger=t.extractBits=t.createMask=t.binaryFormat=t.hexFormat=void 0,t.hexFormat=function(e,t=8,s=!0){let i=(e>>>0).toString(16);return i=i.padStart(t,"0"),s?"0x"+i:i},t.binaryFormat=function(e,t=0,s=!0,i=!1){let r=(e>>>0).toString(2);for(;r.length<t;)r="0"+r;if(i){const e=4-r.length%4;for(let t=0;t<e;t++)r="0"+r;const t=r.match(/[01]{4}/g);r=t.join(" "),r=r.substring(e)}return s?"0b"+r:r},t.createMask=s,t.extractBits=function(e,t,i){return(e&s(t,i))>>>t>>>0},t.parseInteger=i,t.parseDimIndex=function(e,t){if(-1!==e.indexOf(",")){const s=e.split(",").map((e=>e.trim()));if(s.length!==t)throw new Error("dimIndex Element has invalid specification.");return s}if(/^([0-9]+)\-([0-9]+)$/i.test(e)){const s=e.split("-").map((e=>i(e))),r=s[0];if(s[1]-r+1<t)throw new Error("dimIndex Element has invalid specification.");const n=[];for(let e=0;e<t;e++)n.push(`${r+e}`);return n}if(/^[a-zA-Z]\-[a-zA-Z]$/.test(e)){const s=e.charCodeAt(0);if(e.charCodeAt(2)-s+1<t)throw new Error("dimIndex Element has invalid specification.");const i=[];for(let e=0;e<t;e++)i.push(String.fromCharCode(s+e));return i}return[]}},9240:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveWatchTreeProvider=t.LiveVariableNode=void 0;const i=s(6828),r=s(6828),n=s(3200),o=s(9493);class a extends o.BaseNode{constructor(e,t,s,i="",r="",n=0){super(e),this.name=t,this.expr=s,this.value=i,this.type=r,this.variablesReference=n,this.prevValue="",this.namedVariables=0,this.indexedVariables=0}getExpr(){return this.expr}getChildren(){var e;if(!(this.parent||this.children&&this.children.length))return[new c(this)];const t=[...null!==(e=this.children)&&void 0!==e?e:[]];return this.parent||this.session||t.push(new c(this,!1)),t}isRootChild(){const e=this.parent;return e&&void 0===e.getParent()}rename(e){this.isRootChild()&&(this.name=this.expr=e)}getName(){return this.name}findName(e){for(const t of this.children||[])if(t.name===e)return t}getTreeItem(){var e,t,s,r;const o=this.variablesReference||(null===(e=this.children)||void 0===e?void 0:e.length)>0?(null===(t=this.children)||void 0===t?void 0:t.length)>0?i.TreeItemCollapsibleState.Expanded:i.TreeItemCollapsibleState.Collapsed:i.TreeItemCollapsibleState.None,a=this.name.startsWith("'")&&this.isRootChild()?this.name.split("'::"):[this.name],c=a.pop(),h={label:c+": "+(this.value||"not available")};this.prevValue&&this.prevValue!==this.value&&(h.highlights=[[c.length+2,h.label.length]]),this.prevValue=this.value;const l=new i.TreeItem(h,o);l.contextValue=this.isRootChild()?"expression":"field";let u=a.length?a[0].slice(1):"";if(u){const e=null===(r=null===(s=this.session)||void 0===s?void 0:s.configuration)||void 0===r?void 0:r.cwd;u=e?(0,n.getPathRelative)(e,u):u}return l.tooltip=(u?"File: "+u+"\n":"")+this.type,l}getCopyValue(){throw new Error("Method not implemented.")}addChild(e,t="",s="",i="",r=0){this.children||(this.children=[]);const n=new a(this,e,t||e,s,i,r);return this.children.push(n),n}removeChild(e){if(!e||!e.isRootChild())return!1;let t=0;for(const s of this.children||[]){if(s.name===e.name)return this.children.splice(t,1),!0;t++}return!1}moveUpChild(e){if(!e||!e.isRootChild())return!1;let t=0;for(const s of this.children||[]){if(s.name===e.name){if(t>0){const e=this.children[t-1];this.children[t]=e,this.children[t-1]=s}else{const e=this.children.shift();this.children.push(e)}return!0}t++}return!1}moveDownChild(e){if(!e||!e.isRootChild())return!1;let t=0;const s=this.children?this.children.length-1:-1;for(const i of this.children||[]){if(i.name===e.name){if(t!==s){const e=this.children[t+1];this.children[t]=e,this.children[t+1]=i}else{const e=this.children.pop();this.children.unshift(e)}return!0}t++}return!1}reset(e=!0){this.session=void 0,e&&(this.value=this.type=this.prevValue="",this.variablesReference=0);for(const t of this.children||[])t.reset(e)}refreshChildren(e){var t;if(u.session&&this.session===u.session)if(this.expanded&&this.variablesReference>0){const s={variablesReference:this.variablesReference},i={};for(const e of null!==(t=this.children)&&void 0!==t?t:[])i[e.name]={expanded:e.expanded,value:e.value,children:e.children};this.session.customRequest("liveVariables",s).then((t=>{var s,r,n,o;if(null===(s=null==t?void 0:t.variables)||void 0===s?void 0:s.length){this.children=[];for(const e of null!==(r=t.variables)&&void 0!==r?r:[]){const t=new a(this,e.name,e.evaluateName||e.name,e.value||"",e.type||"",null!==(n=e.variablesReference)&&void 0!==n?n:0),s=i[t.name];s&&(t.expanded=s.expanded&&t.variablesReference>0,t.prevValue=s.value,t.children=s.children),t.session=this.session,this.children.push(t)}}else this.children=void 0;for(const e of null!==(o=this.children)&&void 0!==o?o:[])e.expanded&&new Promise((t=>{e.refreshChildren(t)}));Promise.allSettled([]).finally((()=>{e()}))}),(t=>{e()}))}else e();else e()}expandChildren(){return new Promise((e=>{this.expanded=!0,this.refreshChildren(e)}))}refresh(e){return new Promise((t=>{if(this.session=e,e===u.session)if(this.expr){const s={expression:this.expr,context:"hover"};e.customRequest("liveEvaluate",s).then((e=>{var s,i,r;if(e&&void 0!==e.result){const n=this.type;this.value=e.result,this.type=e.type,this.variablesReference=null!==(s=e.variablesReference)&&void 0!==s?s:0,this.namedVariables=null!==(i=e.namedVariables)&&void 0!==i?i:0,this.indexedVariables=null!==(r=e.indexedVariables)&&void 0!==r?r:0,n!==this.type&&(this.children=this.variablesReference?[]:void 0),this.refreshChildren(t)}else this.value=`<Failed to evaluate ${this.expr}>`,this.children=void 0,t()}),(()=>{t()}))}else if(this.children&&!this.parent){const s=[];for(const t of this.children)s.push(t.refresh(e));Promise.allSettled(s).finally((()=>{t()}))}else this.refreshChildren(t);else t()}))}addNewExpr(e){if(this.parent)return!1;for(const t of this.children||[])if(e===t.expr)return!1;return this.addChild(e,e),!0}pvtSerialize(e){var t;const s={name:this.name,expr:this.expr,expanded:this.expanded||!this.parent,children:[]};e?e.children.push(s):e=s;for(const e of null!==(t=this.children)&&void 0!==t?t:[])e.pvtSerialize(s);return s}serialize(){return this.pvtSerialize(void 0)}deSerialize(e){for(const t of e.children){this.children||(this.children=[]);const e=new a(this,t.name,t.expr);e.expanded=t.expanded,this.children.push(e),e.deSerialize(t)}}}t.LiveVariableNode=a;class c extends a{constructor(e,t=!0){super(e,"dummy","dummy"),this.empty=t}getTreeItem(){const e=i.TreeItemCollapsibleState.None,t={label:'Hint: Use & Enable "liveWatch" in your launch.json to enable this panel'+(this.empty?", and use the '+' button above to add new expressions":"")},s=new i.TreeItem(t,e);return s.contextValue=this.isRootChild()?"expression":"field",s.tooltip="~"+t.label+"~",s}getChildren(){return[]}}const h="livewatch.version",l="livewatch.watchTree";class u{constructor(e){this.context=e,this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.timeoutMs=250,this.isStopped=!0,this.oldState=new Map,this.currentRefreshRate=u.defaultRefreshRate,this.pendingFires=0,this.inFire=!1,this.variables=new a(void 0,"",""),this.setRefreshRate(),this.restoreState(),e.subscriptions.push(r.workspace.onDidChangeConfiguration(this.settingsChanged.bind(this)))}restoreState(){var e;try{const t=this.context.workspaceState;if((null!==(e=t.get(h))&&void 0!==e?e:u.stateVersion)===u.stateVersion){const e=t.get(l);e&&this.variables.deSerialize(e)}}catch(e){}}settingsChanged(e){e.affectsConfiguration("cortex-debug.liveWatchRefreshRate")&&this.setRefreshRate()}setRefreshRate(){let e=r.workspace.getConfiguration("cortex-debug",null).get("liveWatchRefreshRate",u.defaultRefreshRate);e=Math.max(e,u.minRefreshRate),e=Math.min(e,u.maxRefreshRate),this.currentRefreshRate=e}saveState(){const e=this.context.workspaceState,t=this.variables.serialize();e.update(h,u.stateVersion),e.update(l,t)}isSameSession(e){return!(!e||!u.session||e.id!==u.session.id)}refresh(e,t=!1){if(e&&this.isSameSession(e)){const s=e=>{!this.isStopped&&t&&u.session&&this.startTimer(e<0||e>this.timeoutMs?0:e)};if(0===this.variables.getChildren().length)s(0);else{const t=Date.now();e.customRequest("liveCacheRefresh",{deleteAll:!1}).then((()=>{this.variables.refresh(e).finally((()=>{const e=Date.now()-t;this.fire(),e>this.timeoutMs&&console.error("??????? over flow ????"),s(e)}))}))}}else this.fire()}getTreeItem(e){return null==e?void 0:e.getTreeItem()}getChildren(e){return e?e.getChildren():this.variables.getChildren()}startTimer(e=0){this.killTimer(),this.timeout=setTimeout((()=>{this.timeout=void 0,u.session&&this.refresh(u.session,!0)}),this.timeoutMs-e)}killTimer(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}debugSessionTerminated(e){this.isSameSession(e)&&(this.isStopped=!0,this.killTimer(),u.session=void 0,this.fire(),this.saveState(),setTimeout((()=>{this.variables.reset(!0)}),100))}debugSessionStarted(e){var t;const s=e.configuration.liveWatch;if(!(null==s?void 0:s.enabled))return void(u.session||this.fire());if(u.session)return void r.window.showErrorMessage("Error: You can have live-watch enabled to only one debug session at a time. Live Watch is already enabled for "+u.session.name);u.session=e,this.isStopped=!0,this.variables.reset();const i=Math.max(1,Math.min(20,null!==(t=s.samplesPerSecond)&&void 0!==t?t:4));this.timeoutMs=1e3/i,this.startTimer()}debugStopped(e){this.isSameSession(e)&&(this.isStopped=!0,this.killTimer(),setTimeout((()=>{this.timeout||this.refresh(u.session)}),250))}debugContinued(e){this.isSameSession(e)&&(this.isStopped=!1,this.startTimer())}addWatchExpr(e,t){(e=e.trim())&&this.variables.addNewExpr(e)&&(this.saveState(),this.refresh(u.session))}removeWatchExpr(e){try{this.variables.removeChild(e)&&(this.saveState(),this.fire())}catch(t){console.error("Failed to remove node. Invalid node?",e)}}editNode(e){if(!e.isRootChild())return;const t={placeHolder:"Enter a valid C/gdb expression. Must be a global variable expression",ignoreFocusOut:!0,value:e.getName(),prompt:"Enter Live Watch Expression"};r.window.showInputBox(t).then((t=>{(t=t?t.trim():t)&&t!==e.getName()&&(this.variables.findName(t)?r.window.showInformationMessage(`Live Watch: Expression ${t} is already being watched`):(e.rename(t),this.saveState(),this.refresh(u.session)))}))}moveUpNode(e){const t=null==e?void 0:e.getParent();t&&t.moveUpChild(e)&&this.fire()}moveDownNode(e){const t=null==e?void 0:e.getParent();t&&t.moveDownChild(e)&&this.fire()}expandChildren(e){e&&e.expandChildren().then((()=>{this.fire()}))}fire(){this.timeoutMs>=this.currentRefreshRate?this._onDidChangeTreeData.fire(void 0):this.inFire?this.pendingFires++:(this.inFire=!0,this._onDidChangeTreeData.fire(void 0),setTimeout((()=>{this.inFire=!1,this.pendingFires&&(this.pendingFires=0,this.fire())}),this.currentRefreshRate))}}t.LiveWatchTreeProvider=u,u.stateVersion=2,u.defaultRefreshRate=300,u.minRefreshRate=200,u.maxRefreshRate=5e3},9493:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClusterOrRegisterBaseNode=t.PeripheralBaseNode=t.BaseNode=void 0;const i=s(3200);class r{constructor(e){this.parent=e,this.expanded=!1}getParent(){return this.parent}getCommand(){}}t.BaseNode=r;class n extends r{constructor(e){super(e),this.parent=e,this.format=i.NumberFormat.Auto,this.pinned=!1}selected(){return Promise.resolve(!1)}}t.PeripheralBaseNode=n,t.ClusterOrRegisterBaseNode=class extends n{}},4942:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(6828),r=s(2037),n=s(1017),o=s(7147),a=s(387),c=s(3021),h=i.extensions.getExtension("marus25.cortex-debug"),l=h.id,u=h.packageJSON.version;let d,p=null;const f={};function g(){const e=i.workspace.getConfiguration("telemetry"),t=i.workspace.getConfiguration("cortex-debug");return e.enableTelemetry&&t.enableTelemetry}t.default={beginSession:function(e,t){g()&&(t.rtos&&d.set("cd4",t.rtos),t.device&&d.set("cd3",t.device),d.set("cd5",t.servertype),d.screenview("Debug Session","Cortex-Debug",u,l),d.event("Session","Started","",0,{sessionControl:"start"}),t.swoConfig.enabled&&d.event("SWO","Used"),t.rttConfig.enabled&&d.event("RTT","Used"),t.graphConfig.length>0&&d.event("Graphing","Used"),f[e]=new Date,d.send())},endSession:function(e){if(!g())return;const t=f[e];if(t){const s=((new Date).getTime()-t.getTime())/1e3;delete f[e],setTimeout((()=>{d.event("Session","Completed","",Math.round(s),{sessionControl:"end"}).send()}),500)}},activate:function(e){g()&&(d=a("UA-113901869-1",function(){if(!p){const e=n.join(r.homedir(),".cortex-debug");if(o.existsSync(e)){const t=o.readFileSync(e,"utf8"),s=JSON.parse(t);p=s.uuid}else{p=(0,c.v4)();const t={uuid:p};o.writeFileSync(e,JSON.stringify(t),"utf8")}}return p}()),d.set("cd2",u),d.set("cd1",i.version),d.set("cd6",r.platform()),d.set("cd7",r.release()),d.set("cd8",process.versions.node))},deactivate:function(){g()},sendEvent:function(e,t,s,i,r={}){g()&&d.event(e,t,s,Math.round(i),r).send()}}},2057:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STLinkServerController=void 0;const i=s(3200),r=s(2037),n=s(1017),o=s(7147),a=s(2361),c=function(){switch(r.platform()){case"win32":return"C:\\ST";case"darwin":return"/Applications/STM32CubeIDE.app/Contents/Eclipse";default:const e=(process.env.HOME||r.homedir())+"/st";return o.existsSync(e)?e:"/opt/st"}}(),h="win32"===r.platform()?"ST-LINK_gdbserver.exe":"ST-LINK_gdbserver",l=/^STM32CubeIDE_(.+)$/i,u=/com\.st\.stm32cube\.ide\.mcu\.externaltools\.stlink-gdb-server\.(.+)/,d=/com\.st\.stm32cube\.ide\.mcu\.externaltools\.cubeprogrammer\.(.+)/,p=/com\.st\.stm32cube\.ide\.mcu\.externaltools\.gnu-tools-for-stm32\.(.+)/;function f(e,t,s,i=""){const r=n.join(...e);let a;try{for(const e of o.readdirSync(r).sort()){const c=n.join(r,e);if(!o.statSync(c).isDirectory())continue;const h=e.match(t);if(h){const e=n.join(r,h[0],s,i);o.existsSync(e)&&(!a||a.localeCompare(e,void 0,{sensitivity:"base",numeric:!0})<0)&&(a=e)}}}catch(e){}return a||i}class g extends a.EventEmitter{static getSTMCubeIdeDir(){switch(r.platform()){case"darwin":return c;case"linux":return f([c],l,"");default:return f([c],l,"STM32CubeIDE")}}static getArmToolchainPath(){return f([this.getSTMCubeIdeDir(),"plugins"],p,"tools/bin")}constructor(){super(),this.name="ST-LINK",this.portsNeeded=["gdbPort","swoPort","gap1","gap2"]}setPorts(e){this.ports=e}setArguments(e){this.args=e}customRequest(e,t,s){return!1}initCommands(){return[`target-select extended-remote localhost:${this.ports[(0,i.createPortName)(this.args.targetProcessor)]}`]}launchCommands(){return[...(0,i.genDownloadCommands)(this.args,['interpreter-exec console "monitor reset"']),'interpreter-exec console "monitor reset"','interpreter-exec console "monitor halt"']}attachCommands(){return[]}restartCommands(){return['interpreter-exec console "monitor reset"']}swoAndRTTCommands(){return[]}serverExecutable(){return this.args.serverpath?this.args.serverpath:f([g.getSTMCubeIdeDir(),"plugins"],u,"tools/bin",h)}allocateRTTPorts(){return Promise.resolve()}serverArguments(){let e=["-p",this.ports.gdbPort.toString()],t=this.args.stm32cubeprogrammer;return t||(t=f([g.getSTMCubeIdeDir(),"plugins"],d,"tools/bin"),t||(t="win32"===r.platform()?process.env.ProgramFiles+"\\STMicroelectronics\\STM32Cube\\STM32CubeProgrammer\\bin":"darwin"===r.platform()?"/Applications/STMicroelectronics/STM32Cube/STM32CubeProgrammer/STM32CubeProgrammer.app/Contents/MacOs/bin":"/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/bin")),e.push("-cp",t),"jtag"!==this.args.interface&&"cjtag"!==this.args.interface&&e.push("--swd"),this.args.serialNumber&&e.push("--serial-number",this.args.serialNumber),"attach"===this.args.request&&e.push("--attach"),e.push("--halt"),this.args.serverArgs&&(e=e.concat(this.args.serverArgs)),e}initMatch(){return/(Waiting for debugger connection|Listening at).*/gi}serverLaunchStarted(){}serverLaunchCompleted(){}debuggerLaunchStarted(){}debuggerLaunchCompleted(){}}t.STLinkServerController=g},3725:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PortStatusArgs=t.TcpPortScanner=void 0;const r=s(2037),n=s(1808),o=s(2081),a=s(5497),c=s(2361);let h=!1;function l(...e){h&&console.log(...e)}class u{static EmitAllocated(e){if(e&&e.length){for(const t of e)u.AvoidPorts.add(t);u.PortAllocated.emit("allocated",e)}}static isPortInUse(e,t,s=9999){return l(`isPortInUse: testing port ${t}:${e}`),new Promise(((i,r)=>{const o=n.createServer((e=>{}));o.once("error",(n=>{const a=n.code;a&&"EADDRINUSE"===a||"EACCES"===a?("EACCES"===a&&l(`isPortInUse: port ${t}:${e} returned code EACCES?, ${s}`),l(`isPortInUse: port ${t}:${e} is busy, ${s}`),i(!0)):(l(`isPortInUse: port ${t}:${e} unexpected error , ${s}`,n),r(n)),o.close()})),o.once("close",(()=>{l(`isPortInUse: port ${t}:${e} is free, ${s}`),i(!1)})),o.listen(e,t,(()=>{o.close()}))}))}static isPortInUseEx(e,t,s){const r=u.SeqNumber++,n=u.getLocalHostAliases();return new Promise((t=>i(this,void 0,void 0,(function*(){if(s&&s.has(e))t(!0);else{for(const s of n)try{if(yield u.isPortInUse(e,s,r))return void t(!0)}catch(e){return void t(!0)}t(!1)}}))))}static findFreePorts({min:e,max:t,retrieve:s=1,consecutive:i=!1,doLog:r=!1},n=u.DefaultHost){h=h||r;let o=[];const a=[],c=s;return new Promise(((s,r)=>{const d=e=>{u.EmitAllocated(e),s(e)};c<=0?d(o):function e(s,n){l(`findFreePorts: ******** Next ${s}`);const p=process.hrtime();u.isPortInUseEx(s,n,u.AvoidPorts).then((u=>{const f=process.hrtime(p);if(u?(a.push(s),l(`Busy ports = ${a}`)):(i&&o.length>0&&s!==1+o[o.length-1]&&(l("TcpPortHelper.findFreePorts: Oops, reset for consecutive ports requirement"),o=[]),o.push(s),l(`Free ports = ${o}`)),h){const e=(f[1]/1e6).toFixed(2),t=`${f[0]}s ${e}ms`;l(`TcpPortHelper.findFreePorts Port ${n}:${s} `+(u?"busy":"free")+`, Found: ${o.length} of ${c} needed ${t}`)}o.length===c?d(o):s<t?e(s+1,n):r(new Error(`Only found ${o.length} of ${c} ports`))})).catch((e=>{r(e)}))}(e,n)}))}static getOsNetProbeCmd(){if(""===u.OSNetProbeCmd){const e=a.sync,t=r.platform(),s="win32"===t,i="darwin"===t;s||i||!e("ss")?e("netstat")?(u.OSNetProbeCmd=s?"netstat -nap tcp":"netstat -nap tcp -f inet",u.OSNetProbeCmdRegexpStr="[tT][cC][pP][^\\n]*[:\\.]XYZZY\\s+[^\\s]+\\s+LISTEN[^\\n]*\\n"):i&&e("lsof")?(u.OSNetProbeCmd="lsof -n -iTCP:XYZZY -sTCP:LISTEN",u.OSNetProbeCmdRegexpStr="IPv4[^\\n]+:XYZZY\\s[^\\n]*\\(LISTEN\\)[^\\n]*\\n"):u.OSNetProbeCmd="?":(u.OSNetProbeCmd="ss -nlt",u.OSNetProbeCmdRegexpStr="LISTEN\\s+[^\\n]*:XYZZY\\s+[^\\s]+[^\\n]*\\n")}return u.OSNetProbeCmd}static waitForPortOpenOSUtl(e,t=100,s=5e3,i=!0,r=!0){const n=u.getOsNetProbeCmd().replace("XYZZY",e.toString());if(h=h||r,l(n),i&&"?"===n)return u.waitForPortOpen(e,u.DefaultHost,!0,t,s);const a=u.OSNetProbeCmdRegexpStr.replace("XYZZY",e.toString());l(a);const c=new RegExp(a),d=Date.now();let p=!0;return t=Math.max(t,1),new Promise((function e(i,r){if("?"===n)return r(new Error("failed"));o.exec(n,((o,a)=>{if(o&&!n.startsWith("lsof"))return r(o);if(c.test(a))return l(a.match(c).join("\n")),i();{p&&(p=!1);const n=Date.now()-d;if(!(n<s))return r(new Error("timeout"));l(`waitForPortOpenOSUtl: Setting timeout for ${t}ms, curTime = ${n}ms`),setTimeout((()=>{e(i,r)}),t)}}))}))}static waitForPortStatusEx(e){e.startTimeMs=Date.now();const t=e.checkLocalHostAliases?u.isPortInUseEx:u.isPortInUse;return new Promise((function s(i,r){t(e.port,e.host,null).then((t=>{if(t===e.desiredStatus)return i();throw new Error("tryagain")})).catch((t=>"tryagain"!==t.message?r(t):Date.now()-e.startTimeMs<e.timeOutMs?void setTimeout((()=>{s(i,r)}),e.retryTimeMs):r(new Error("timeout"))))}))}static waitForPortStatus(e,t=u.DefaultHost,s=!0,i=!0,r=100,n=5e3){r=Math.max(r,1);const o=new d(s,e,t,i,r,n);return u.waitForPortStatusEx(o)}static waitForPortOpen(e,t=u.DefaultHost,s=!0,i=100,r=5e3){i=Math.max(i,1);const n=new d(!0,e,t,s,i,r);return u.waitForPortStatusEx(n)}static waitForPortClosed(e,t=u.DefaultHost,s=!0,i=100,r=5e3){i=Math.max(i,1);const n=new d(!1,e,t,s,i,r);return u.waitForPortStatusEx(n)}static getLocalHostAliases(){if(0===u.localHostAliases.length){u.localHostAliases=["127.0.0.1","0.0.0.0"];const e=r.networkInterfaces();Object.keys(e).forEach((t=>{e[t].forEach((e=>{e.internal&&"ipv4"===e.family.toLowerCase()&&-1===u.localHostAliases.indexOf(e.address)&&u.localHostAliases.push(e.address)}))}))}return u.localHostAliases}static shouldUseServerMethod(e){return!u.ForceClientMethod&&(!e||"localhost"===e.toLowerCase()||u.getLocalHostAliases().indexOf(e)>=0)}}t.TcpPortScanner=u,u.ForceClientMethod=!1,u.DefaultHost="0.0.0.0",u.PortAllocated=new c.EventEmitter,u.AvoidPorts=new Set,u.SeqNumber=0,u.OSNetProbeCmd="",u.OSNetProbeCmdRegexpStr="",u.localHostAliases=[];class d{constructor(e,t,s=u.DefaultHost,i=!0,r=100,n=5e3){this.desiredStatus=e,this.port=t,this.host=s,this.checkLocalHostAliases=i,this.retryTimeMs=r,this.timeOutMs=n,this.startTimeMs=0,this.retryTimeMs=Math.max(this.retryTimeMs,1)}}t.PortStatusArgs=d},387:(e,t,s)=>{e.exports=s(5327)},5858:e=>{e.exports={protocolVersion:"1",hostname:"https://www.google-analytics.com",path:"/collect",batchPath:"/batch",batching:!0,batchSize:10,acceptedParameters:["v","tid","aip","ds","qt","z","cid","uid","sc","uip","ua","geoid","dr","cn","cs","cm","ck","cc","ci","gclid","dclid","sr","vp","de","sd","ul","je","fl","t","ni","dl","dh","dp","dt","cd","linkid","an","aid","av","aiid","ec","ea","el","ev","ti","ta","tr","ts","tt","in","ip","iq","ic","iv","cu","pa","tcc","pal","cos","col","promoa","sn","sa","st","utc","utv","utt","utl","plt","dns","pdt","rrt","tcp","srt","dit","clt","exd","exf","xid","xvar"],acceptedParametersRegex:[/^cm[0-9]+$/,/^cd[0-9]+$/,/^cg(10|[0-9])$/,/pr[0-9]{1,3}id/,/pr[0-9]{1,3}nm/,/pr[0-9]{1,3}br/,/pr[0-9]{1,3}ca/,/pr[0-9]{1,3}va/,/pr[0-9]{1,3}pr/,/pr[0-9]{1,3}qt/,/pr[0-9]{1,3}cc/,/pr[0-9]{1,3}ps/,/pr[0-9]{1,3}cd[0-9]{1,3}/,/pr[0-9]{1,3}cm[0-9]{1,3}/,/il[0-9]{1,3}nm/,/il[0-9]{1,3}pi[0-9]{1,3}id/,/il[0-9]{1,3}pi[0-9]{1,3}nm/,/il[0-9]{1,3}pi[0-9]{1,3}br/,/il[0-9]{1,3}pi[0-9]{1,3}ca/,/il[0-9]{1,3}pi[0-9]{1,3}va/,/il[0-9]{1,3}pi[0-9]{1,3}ps/,/il[0-9]{1,3}pi[0-9]{1,3}pr/,/il[0-9]{1,3}pi[0-9]{1,3}cd[0-9]{1,3}/,/il[0-9]{1,3}pi[0-9]{1,3}cm[0-9]{1,3}/,/promo[0-9]{1,3}id/,/promo[0-9]{1,3}nm/,/promo[0-9]{1,3}cr/,/promo[0-9]{1,3}ps/],parametersMap:{protocolVersion:"v",trackingId:"tid",webPropertyId:"tid",anonymizeIp:"aip",dataSource:"ds",queueTime:"qt",cacheBuster:"z",clientId:"cid",userId:"uid",sessionControl:"sc",ipOverride:"uip",userAgentOverride:"ua",documentReferrer:"dr",campaignName:"cn",campaignSource:"cs",campaignMedium:"cm",campaignKeyword:"ck",campaignContent:"cc",campaignId:"ci",googleAdwordsId:"gclid",googleDisplayAdsId:"dclid",screenResolution:"sr",viewportSize:"vp",documentEncoding:"de",screenColors:"sd",userLanguage:"ul",javaEnabled:"je",flashVersion:"fl",hitType:"t","non-interactionHit":"ni",documentLocationUrl:"dl",documentHostName:"dh",documentPath:"dp",documentTitle:"dt",screenName:"cd",linkId:"linkid",applicationName:"an",applicationId:"aid",applicationVersion:"av",applicationInstallerId:"aiid",eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",transactionId:"ti",transactionAffiliation:"ta",transactionRevenue:"tr",transactionShipping:"ts",transactionTax:"tt",itemName:"in",itemPrice:"ip",itemQuantity:"iq",itemCode:"ic",itemCategory:"iv",currencyCode:"cu",socialNetwork:"sn",socialAction:"sa",socialActionTarget:"st",userTimingCategory:"utc",userTimingVariableName:"utv",userTimingTime:"utt",userTimingLabel:"utl",pageLoadTime:"plt",dnsTime:"dns",pageDownloadTime:"pdt",redirectResponseTime:"rrt",tcpConnectTime:"tcp",serverResponseTime:"srt",domInteractiveTime:"dit",contentLoadTime:"clt",exceptionDescription:"exd",isExceptionFatal:"exf","isExceptionFatal?":"exf",experimentId:"xid",experimentVariant:"xvar"}}},5327:(e,t,s)=>{var i=s(3021),r=s(3477),n=s(7310),o=s(5119),a=s(5858),c=s(8092),h=s(5158)("universal-analytics");function l(e,t,s){return new u(e,t,s)}e.exports=l;var u=e.exports.Visitor=function(e,t,s,i,r){if("object"==typeof e?(s=e,e=t=null):"object"==typeof t&&(s=t,t=null),this._queue=[],this.options=s||{},this.options.hostname&&(a.hostname=this.options.hostname),this.options.path&&(a.path=this.options.path),this.options.http){var o=n.parse(a.hostname);a.hostname="http://"+o.host}void 0!==this.options.enableBatching&&(a.batching=s.enableBatching),this.options.batchSize&&(a.batchSize=this.options.batchSize),this._context=i||{},this._persistentParams=r||{},this.tid=e||this.options.tid,this.cid=this._determineCid(t,this.options.cid,!1!==this.options.strictCidFormat),this.options.uid&&(this.uid=this.options.uid)};e.exports.middleware=function(t,s){this.tid=t,this.options=s||{};var i=this.options.cookieName||"_ga",r=this.options.instanceName||"visitor";return delete this.options.instanceName,function(n,o,a){if(n[r]=e.exports.createFromSession(n.session),n[r])return a();var c;if(n.cookies&&n.cookies[i]){var h=n.cookies[i].split(".");c=h[2]+"."+h[3]}n[r]=l(t,c,s),n.session&&(n.session.cid=n[r].cid),a()}},e.exports.createFromSession=function(e){if(e&&e.cid)return l(this.tid,e.cid,this.options)},u.prototype={debug:function(e){return h.enabled=0===arguments.length||e,h("visitor.debug() is deprecated: set DEBUG=universal-analytics to enable logging"),this},reset:function(){return this._context=null,this},set:function(e,t){this._persistentParams=this._persistentParams||{},this._persistentParams[e]=t},pageview:function(e,t,s,i,r){return"object"==typeof e&&null!=e?(i=e,"function"==typeof t&&(r=t),e=t=s=null):"function"==typeof t?(r=t,t=s=null):"function"==typeof s?(r=s,s=null):"function"==typeof i&&(r=i,i=null),i=this._translateParams(i),(i=Object.assign({},this._persistentParams||{},i)).dp=e||i.dp||this._context.dp,i.dh=t||i.dh||this._context.dh,i.dt=s||i.dt||this._context.dt,this._tidyParameters(i),i.dp||i.dl?this._withContext(i)._enqueue("pageview",i,r):this._handleError("Please provide either a page path (dp) or a document location (dl)",r)},screenview:function(e,t,s,i,r,n,o){return"object"==typeof e&&null!=e?(n=e,"function"==typeof t&&(o=t),e=t=s=i=r=null):"function"==typeof t?(o=t,t=s=i=r=null):"function"==typeof s?(o=s,s=i=r=null):"function"==typeof i?(o=i,i=r=null):"function"==typeof r?(o=r,r=null):"function"==typeof n&&(o=n,n=null),n=this._translateParams(n),(n=Object.assign({},this._persistentParams||{},n)).cd=e||n.cd||this._context.cd,n.an=t||n.an||this._context.an,n.av=s||n.av||this._context.av,n.aid=i||n.aid||this._context.aid,n.aiid=r||n.aiid||this._context.aiid,this._tidyParameters(n),n.cd&&n.an?this._withContext(n)._enqueue("screenview",n,o):this._handleError("Please provide at least a screen name (cd) and an app name (an)",o)},event:function(e,t,s,i,r,n){return"object"==typeof e&&null!=e?(r=e,"function"==typeof t&&(n=t),e=t=s=i=null):"function"==typeof s?(n=s,s=i=null):"function"==typeof i?(n=i,i=null):"function"==typeof r&&(n=r,r=null),r=this._translateParams(r),(r=Object.assign({},this._persistentParams||{},r)).ec=e||r.ec||this._context.ec,r.ea=t||r.ea||this._context.ea,r.el=s||r.el||this._context.el,r.ev=i||r.ev||this._context.ev,r.p=r.p||r.dp||this._context.p||this._context.dp,delete r.dp,this._tidyParameters(r),r.ec&&r.ea?this._withContext(r)._enqueue("event",r,n):this._handleError("Please provide at least an event category (ec) and an event action (ea)",n)},transaction:function(e,t,s,i,r,n,o){return"object"==typeof e?(n=e,"function"==typeof t&&(o=t),e=t=s=i=r=null):"function"==typeof t?(o=t,t=s=i=r=null):"function"==typeof s?(o=s,s=i=r=null):"function"==typeof i?(o=i,i=r=null):"function"==typeof r?(o=r,r=null):"function"==typeof n&&(o=n,n=null),n=this._translateParams(n),(n=Object.assign({},this._persistentParams||{},n)).ti=e||n.ti||this._context.ti,n.tr=t||n.tr||this._context.tr,n.ts=s||n.ts||this._context.ts,n.tt=i||n.tt||this._context.tt,n.ta=r||n.ta||this._context.ta,n.p=n.p||this._context.p||this._context.dp,this._tidyParameters(n),n.ti?this._withContext(n)._enqueue("transaction",n,o):this._handleError("Please provide at least a transaction ID (ti)",o)},item:function(e,t,s,i,r,n,o){return"object"==typeof e?(n=e,"function"==typeof t&&(o=t),e=t=s=i=r=null):"function"==typeof t?(o=t,t=s=i=r=null):"function"==typeof s?(o=s,s=i=r=null):"function"==typeof i?(o=i,i=r=null):"function"==typeof r?(o=r,r=null):"function"==typeof n&&(o=n,n=null),n=this._translateParams(n),(n=Object.assign({},this._persistentParams||{},n)).ip=e||n.ip||this._context.ip,n.iq=t||n.iq||this._context.iq,n.ic=s||n.ic||this._context.ic,n.in=i||n.in||this._context.in,n.iv=r||n.iv||this._context.iv,n.p=n.p||this._context.p||this._context.dp,n.ti=n.ti||this._context.ti,this._tidyParameters(n),n.ti?this._withContext(n)._enqueue("item",n,o):this._handleError("Please provide at least an item transaction ID (ti)",o)},exception:function(e,t,s,i){return"object"==typeof e?(s=e,"function"==typeof t&&(i=t),e=t=null):"function"==typeof t?(i=t,t=0):"function"==typeof s&&(i=s,s=null),s=this._translateParams(s),(s=Object.assign({},this._persistentParams||{},s)).exd=e||s.exd||this._context.exd,s.exf=+!!(t||s.exf||this._context.exf),0===s.exf&&delete s.exf,this._tidyParameters(s),this._withContext(s)._enqueue("exception",s,i)},timing:function(e,t,s,i,r,n){return"object"==typeof e?(r=e,"function"==typeof t&&(n=t),e=t=s=i=null):"function"==typeof t?(n=t,t=s=i=null):"function"==typeof s?(n=s,s=i=null):"function"==typeof i?(n=i,i=null):"function"==typeof r&&(n=r,r=null),r=this._translateParams(r),(r=Object.assign({},this._persistentParams||{},r)).utc=e||r.utc||this._context.utc,r.utv=t||r.utv||this._context.utv,r.utt=s||r.utt||this._context.utt,r.utl=i||r.utl||this._context.utl,this._tidyParameters(r),this._withContext(r)._enqueue("timing",r,n)},send:function(e){var t=this,s=1;e=e||function(){},h("Sending %d tracking call(s)",t._queue.length);var i=function(i){h("Finished sending tracking calls"),e.call(t,i||null,s-1)},n=function(){if(!t._queue.length)return i(null);var e=[];a.batching?e=t._queue.splice(0,Math.min(t._queue.length,a.batchSize)):e.push(t._queue.shift());var n=e.length>1,l=a.hostname+(n?a.batchPath:a.path);h("%d: %o",s++,e);var u=function(e){return e.map((function(e){return r.stringify(e)})).join("\n")}(e);c.post(l,u,t.options.headers,o)};function o(e){if(e)return i(e);n()}n()},_enqueue:function(e,t,s){return"function"==typeof t&&(s=t,t={}),t=this._translateParams(t)||{},Object.assign(t,{v:a.protocolVersion,tid:this.tid,cid:this.cid,t:e}),this.uid&&(t.uid=this.uid),this._queue.push(t),h.enabled&&this._checkParameters(t),h("Enqueued %s (%o)",e,t),s&&this.send(s),this},_handleError:function(e,t){return h("Error: %s",e),t&&t.call(this,new Error(e)),this},_determineCid:function(){var e,t=Array.prototype.splice.call(arguments,0),s=t.length-1;if(t[s])for(var r=0;r<s;r++){if(!1!==(e=o.ensureValidCid(t[r])))return e;null!=e&&h("Warning! Invalid UUID format '%s'",t[r])}else for(r=0;r<s;r++)if(t[r])return t[r];return i.v4()},_checkParameters:function(e){for(var t in e)-1!==a.acceptedParameters.indexOf(t)||a.acceptedParametersRegex.filter((function(e){return e.test(t)})).length||h("Warning! Unsupported tracking parameter %s (%s)",t,e[t])},_translateParams:function(e){var t={};for(var s in e)a.parametersMap.hasOwnProperty(s)?t[a.parametersMap[s]]=e[s]:t[s]=e[s];return t},_tidyParameters:function(e){for(var t in e)null!==e[t]&&void 0!==e[t]||delete e[t];return e},_withContext:function(e){var t=new u(this.tid,this.cid,this.options,e,this._persistentParams);return t._queue=this._queue,t}},u.prototype.pv=u.prototype.pageview,u.prototype.e=u.prototype.event,u.prototype.t=u.prototype.transaction,u.prototype.i=u.prototype.item},8092:(e,t,s)=>{const i=s(3685),r=s(5687),n=s(7310),o=s(5158)("universal-analytics");e.exports={post:function(e,t,s,a){!function(e,t,s,a={},c){const{hostname:h,port:l,pathname:u}=n.parse(e),d={hostname:h,port:l,path:u,method:t,headers:a},p=function(e){return"http:"===n.parse(e).protocol?i:r}(e).request(d,(function(e){!function(e,t){let s="";const{headers:i,statusCode:r}=e,n=r>=300;e.setEncoding("utf8"),e.on("data",(function(e){s+=e})),e.on("end",(function(){t(n?s:null,n?null:s,r,i)}))}(e,c)}));p.on("error",(function(e){c(e),o("Request error",e)})),p.write(s),p.end()}(e,"POST",t,s,a)}}},5119:e=>{e.exports.isUuid=function(e){return!!e&&(e=e.toString().toLowerCase(),/[0-9a-f]{8}\-?[0-9a-f]{4}\-?4[0-9a-f]{3}\-?[89ab][0-9a-f]{3}\-?[0-9a-f]{12}/.test(e))},e.exports.isCookieCid=function(e){return/^[0-9]+\.[0-9]+$/.test(e)},e.exports.ensureValidCid=function(e){return this.isUuid(e)?(e=e.replace(/\-/g,"")).substring(0,8)+"-"+e.substring(8,12)+"-"+e.substring(12,16)+"-"+e.substring(16,20)+"-"+e.substring(20):!!this.isCookieCid(e)&&e}},3021:(e,t,s)=>{"use strict";s.r(t),s.d(t,{NIL:()=>T,parse:()=>b,stringify:()=>u,v1:()=>m,v3:()=>w,v4:()=>S,v5:()=>E,validate:()=>h,version:()=>P});const i=require("crypto");var r=s.n(i);const n=new Uint8Array(256);let o=n.length;function a(){return o>n.length-16&&(r().randomFillSync(n),o=0),n.slice(o,o+=16)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h=function(e){return"string"==typeof e&&c.test(e)},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).substr(1));const u=function(e,t=0){const s=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!h(s))throw TypeError("Stringified UUID is invalid");return s};let d,p,f=0,g=0;const m=function(e,t,s){let i=t&&s||0;const r=t||new Array(16);let n=(e=e||{}).node||d,o=void 0!==e.clockseq?e.clockseq:p;if(null==n||null==o){const t=e.random||(e.rng||a)();null==n&&(n=d=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==o&&(o=p=16383&(t[6]<<8|t[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:g+1;const l=c-f+(h-g)/1e4;if(l<0&&void 0===e.clockseq&&(o=o+1&16383),(l<0||c>f)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=c,g=h,p=o,c+=122192928e5;const m=(1e4*(268435455&c)+h)%4294967296;r[i++]=m>>>24&255,r[i++]=m>>>16&255,r[i++]=m>>>8&255,r[i++]=255&m;const b=c/4294967296*1e4&268435455;r[i++]=b>>>8&255,r[i++]=255&b,r[i++]=b>>>24&15|16,r[i++]=b>>>16&255,r[i++]=o>>>8|128,r[i++]=255&o;for(let e=0;e<6;++e)r[i+e]=n[e];return t||u(r)},b=function(e){if(!h(e))throw TypeError("Invalid UUID");let t;const s=new Uint8Array(16);return s[0]=(t=parseInt(e.slice(0,8),16))>>>24,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[4]=(t=parseInt(e.slice(9,13),16))>>>8,s[5]=255&t,s[6]=(t=parseInt(e.slice(14,18),16))>>>8,s[7]=255&t,s[8]=(t=parseInt(e.slice(19,23),16))>>>8,s[9]=255&t,s[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,s[11]=t/4294967296&255,s[12]=t>>>24&255,s[13]=t>>>16&255,s[14]=t>>>8&255,s[15]=255&t,s},v="6ba7b810-9dad-11d1-80b4-00c04fd430c8",y="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function C(e,t,s){function i(e,i,r,n){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let s=0;s<e.length;++s)t.push(e.charCodeAt(s));return t}(e)),"string"==typeof i&&(i=b(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(i),o.set(e,i.length),o=s(o),o[6]=15&o[6]|t,o[8]=63&o[8]|128,r){n=n||0;for(let e=0;e<16;++e)r[n+e]=o[e];return r}return u(o)}try{i.name=e}catch(e){}return i.DNS=v,i.URL=y,i}const w=C("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r().createHash("md5").update(e).digest()})),S=function(e,t,s){const i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=i[e];return t}return u(i)},E=C("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r().createHash("sha1").update(e).digest()})),T="00000000-0000-0000-0000-000000000000",P=function(e){if(!h(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},6828:e=>{"use strict";e.exports=require("vscode")},2081:e=>{"use strict";e.exports=require("child_process")},6206:e=>{"use strict";e.exports=require("console")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},3477:e=>{"use strict";e.exports=require("querystring")},4521:e=>{"use strict";e.exports=require("readline")},9512:e=>{"use strict";e.exports=require("timers")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6292);module.exports=__webpack_exports__})();
//# sourceMappingURL=extension.js.map